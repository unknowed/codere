/**
 * @license jqGrid 4.15.5-pre - free jqGrid: https://github.com/free-jqgrid/jqGrid
 * Copyright (c) 2008-2014, Tony Tomov, tony@trirand.com
 * Copyright (c) 2014-2018, Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com
 * Dual licensed under the MIT and GPL licenses
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl-2.0.html
 * Date: 2018-04-21
 */
!function(t,r){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return r(e,t.document)}):"object"==typeof module&&module.exports?module.exports=function(e,t){return e||(e=window),void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),r(t,e.document),t}:r(jQuery,t.document)}("undefined"!=typeof window?window:this,function($,document){"use strict";var englishLanguageDefaults={name:"English (United States)",nameEnglish:"English (United States)",isRTL:!1,defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",savetext:"Saving..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],addGroupTitle:"Add subgroup",deleteGroupTitle:"Delete group",addRuleTitle:"Add rule",deleteRuleTitle:"Delete rule",operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(e){return e<11||13<e?["st","nd","rd","th"][Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",masks:{ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",YearMonth:"F, Y"}}}};$.jgrid=$.jgrid||{};var jgrid=$.jgrid;jgrid.locales=jgrid.locales||{};var locales=jgrid.locales,COMPONENT_NAMES={GRID_BOX_DIV:0,GRID_OVERLAY_DIV:1,LOADING_DIV:2,DIALOG_ALERT_DIV:3,DIALOG_SEARCH_DIV:4,DIALOG_VIEW_DIV:5,DIALOG_EDIT_DIV:6,DIALOG_DELETE_DIV:7,GRID_VIEW_DIV:8,TITLE_BAR_DIV:9,UPPER_TOOLBAR_DIV:10,TOP_PAGER_DIV:11,HEADER_DIV:12,HEADER_BOX_DIV:13,HEADER_TABLE:14,HEADER_COLS_ROW:15,HEADER_COLS:16,HEADER_ROWS:47,HEADER_TH:48,HEADER_SORTABLE_DIV:49,HEADER_RESIZABLE_SPAN:50,HEADER_SELECT_ALL_ROWS_CHECKBOX:45,SEARCH_TOOLBAR:17,BODY_DIV:18,BODY_SCROLL_FULL_DIV:19,BODY_SCROLL_TOP_DIV:20,BODY_TABLE:21,GRID:21,BODY_COLS_ROW:22,BODY_COLS:23,BODY_DATA_ROWS:24,FOOTER_DIV:25,FOOTER_BOX_DIV:26,FOOTER_TABLE:27,FOOTER_DATA_ROWS:28,BOTTOM_TOOLBAR_DIV:29,FROZEN_HEADER_DIV:30,FROZEN_HEADER_TABLE:31,FROZEN_HEADER_COLS_ROW:32,FROZEN_HEADER_COLS:33,FROZEN_SEARCH_TOOLBAR:34,FROZEN_FOOTER_DIV:35,FROZEN_FOOTER_TABLE:36,FROZEN_FOOTER_DATA_ROWS:37,FROZEN_BODY_DIV:38,FROZEN_BODY_TABLE:39,FROZEN_BODY_COLS_ROW:40,FROZEN_BODY_COLS:41,FROZEN_BODY_DATA_ROWS:42,COLUMN_RESIZER_DIV:43,BOTTOM_PAGER_DIV:44,SEARCH_OPERATION_MENU_UL:46};(null==jgrid.defaults||$.isEmptyObject(locales)||void 0===locales["en-US"])&&(void 0===locales["en-US"]&&$.extend(!0,jgrid,{locales:{"en-US":englishLanguageDefaults}}),jgrid.defaults=jgrid.defaults||{},void 0===jgrid.defaults.locale&&(jgrid.defaults.locale="en-US")),jgrid.defaults=jgrid.defaults||{};var defaults=jgrid.defaults;$.extend(!0,jgrid,{version:"4.15.5-pre",productName:"free jqGrid",defaults:{},search:{},edit:{},view:{},del:{},nav:{},col:{},errors:{},formatter:{unused:""},icons:{jQueryUI:{common:"ui-icon",pager:{first:"ui-icon-seek-first",prev:"ui-icon-seek-prev",next:"ui-icon-seek-next",last:"ui-icon-seek-end"},sort:{asc:"ui-icon-triangle-1-n",desc:"ui-icon-triangle-1-s"},gridMinimize:{visible:"ui-icon-circle-triangle-n",hidden:"ui-icon-circle-triangle-s"},nav:{edit:"ui-icon-pencil",add:"ui-icon-plus",del:"ui-icon-trash",search:"ui-icon-search",refresh:"ui-icon-refresh",view:"ui-icon-document",save:"ui-icon-disk",cancel:"ui-icon-cancel",newbutton:"ui-icon-newwin"},actions:{edit:"ui-icon-pencil",del:"ui-icon-trash",save:"ui-icon-disk",cancel:"ui-icon-cancel"},form:{close:"ui-icon-closethick",prev:"ui-icon-triangle-1-w",next:"ui-icon-triangle-1-e",save:"ui-icon-disk",undo:"ui-icon-close",del:"ui-icon-scissors",cancel:"ui-icon-cancel",resizableLtr:"ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se"},search:{search:"ui-icon-search",reset:"ui-icon-arrowreturnthick-1-w",query:"ui-icon-comment"},subgrid:{plus:"ui-icon-plus",minus:"ui-icon-minus",openLtr:"ui-icon-caret-1-sw",openRtl:"ui-icon-caret-1-se"},grouping:{plus:"ui-icon-circlesmall-plus",minus:"ui-icon-circlesmall-minus"},treeGrid:{minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off",plusLtr:"ui-icon-triangle-1-e",plusRtl:"ui-icon-triangle-1-w"}},fontAwesome:{common:"fa",pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-asc",desc:"fa-sort-desc"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil",add:"fa-plus",del:"fa-trash-o",search:"fa-search",refresh:"fa-refresh",view:"fa-file-o",save:"fa-floppy-o",cancel:"fa-ban",newbutton:"fa-external-link"},actions:{common:"fa-fw",edit:"fa-pencil",del:"fa-trash-o",save:"fa-floppy-o",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-floppy-o",undo:"fa-undo",del:"fa-trash-o",cancel:"fa-ban",resizableLtr:"fa-rss fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments-o"},subgrid:{common:"fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square-o",minus:"fa-minus-square-o"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-desc",leaf:"fa-dot-circle-o",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"}},glyph:{common:"glyphicon",pager:{common:"",first:"glyphicon-step-backward",prev:"glyphicon-backward",next:"glyphicon-forward",last:"glyphicon-step-forward"},sort:{common:"",asc:"glyphicon-triangle-top",desc:"glyphicon-triangle-bottom"},gridMinimize:{visible:"glyphicon-circle-arrow-up",hidden:"glyphicon-circle-arrow-down"},nav:{common:"",edit:"glyphicon-edit",add:"glyphicon-plus",del:"glyphicon-trash",search:"glyphicon-search",refresh:"glyphicon-refresh",view:"glyphicon-file",save:"glyphicon-save",cancel:"glyphicon-ban-circle",newbutton:"glyphicon-new-window"},actions:{common:"",edit:"glyphicon-edit",del:"glyphicon-trash",save:"glyphicon-save",cancel:"glyphicon-ban-circle"},form:{close:"glyphicon-remove-circle",prev:"glyphicon-step-backward",next:"glyphicon-step-forward",save:"glyphicon-save",undo:"glyphicon-repeat",del:"glyphicon-trash",cancel:"glyphicon-ban-circle",resizableLtr:"glyphicon-import"},search:{search:"glyphicon-search",reset:"glyphicon-repeat",query:"glyphicon-cog"},subgrid:{common:"",plus:"glyphicon-zoom-in",minus:"glyphicon-zoom-out",openLtr:"glyphicon-indent-left",openRtl:"glyphicon-indent-left"},grouping:{common:"",plus:"glyphicon-expand",minus:"glyphicon-collapse-down"},treeGrid:{common:"",minus:"glyphicon-triangle-bottom",leaf:"glyphicon-record",plusLtr:"glyphicon-triangle-right",plusRtl:"glyphicon-triangle-left"}}},guiStyles:{jQueryUI:{gBox:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all",gView:"",overlay:"ui-widget-overlay",loading:"ui-state-default ui-state-active",hDiv:"ui-state-default ui-corner-top",hTable:"",colHeaders:"ui-state-default",states:{select:"ui-state-highlight",disabled:"ui-state-disabled ui-jqgrid-disablePointerEvents",hover:"ui-state-hover",error:"ui-state-error",active:"ui-state-active",textOfClickable:"ui-state-default"},dialog:{header:"ui-widget-header ui-dialog-titlebar ui-corner-all ui-helper-clearfix",window:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all ui-front",document:"",subdocument:"",body:"",footer:"",content:"ui-widget-content",hr:"ui-widget-content",closeButton:"ui-corner-all",fmButton:"ui-state-default",dataField:"ui-widget-content ui-corner-all",viewCellLabel:"ui-widget-content",viewLabel:"",viewCellData:"ui-widget-content",viewData:"",leftCorner:"ui-corner-left",rightCorner:"ui-corner-right",defaultCorner:"ui-corner-all"},filterToolbar:{dataField:"ui-widget-content"},subgrid:{thSubgrid:"ui-state-default",rowSubTable:"ui-widget-content",row:"ui-widget-content",tdStart:"",tdWithIcon:"ui-widget-content",buttonDiv:"",button:"",tdData:"ui-widget-content",legacyTable:""},grid:"",gridRow:"ui-widget-content",rowNum:"ui-state-default",gridFooter:"",rowFooter:"ui-widget-content",gridTitle:"ui-widget-header ui-corner-top",gridError:"ui-state-error",gridErrorText:"",titleButton:"ui-corner-all",toolbarUpper:"ui-state-default",toolbarBottom:"ui-state-default",actionsDiv:"ui-widget-content",actionsButton:"ui-corner-all",pager:{pager:"ui-state-default",pagerButton:"ui-corner-all",pagerInput:"ui-widget-content",pagerSelect:"ui-widget-content"},navButton:"ui-corner-all",searchDialog:{operator:"ui-corner-all",label:"ui-corner-all",elem:"ui-corner-all",operationGroup:"",addRuleButton:"ui-corner-all",deleteRuleButton:"ui-corner-all",operationSelect:"ui-corner-all",addGroupButton:"ui-corner-all",deleteGroupButton:"ui-corner-all"},searchToolbar:{menu:"ui-menu-jqueryui ui-menu ui-widget ui-widget-content ui-corner-all",menuItem:"ui-menu-item",menuItemButton:"ui-corner-all",operButton:"ui-corner-all",clearButton:"ui-corner-all"},top:"ui-corner-top",bottom:"ui-corner-bottom",resizer:"ui-widget-header"},bootstrap:{gBox:"ui-jqgrid-bootstrap",gView:"panel-info",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-condensed table-bordered",colHeaders:"",states:{select:"success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"hidden",closeButton:"btn btn-xs btn-default",fmButton:"btn btn-default",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-default",actionsDiv:"",actionsButton:"btn btn-xs btn-default",toolbarUpper:"",toolbarBottom:"",pager:{pager:"panel-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",menuItem:"",menuItemButton:"ui-corner-all",operButton:"btn btn-xs btn-default",clearButton:"btn btn-xs btn-default"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"},bootstrapPrimary:{baseGuiStyle:"bootstrap",dialog:{closeButton:"btn btn-xs close",fmButton:"btn btn-primary"},searchDialog:{addRuleButton:"btn btn-xs btn-primary",deleteRuleButton:"btn btn-xs btn-primary",addGroupButton:"btn btn-xs btn-primary",deleteGroupButton:"btn btn-xs btn-primary"}},bootstrap4:{gBox:"ui-jqgrid-bootstrap",gView:"card",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-sm table-bordered",colHeaders:"",states:{select:"table-success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",hoverTh:"table-active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"d-none",closeButton:"btn btn-xs btn-outline-primary",fmButton:"btn btn-outline-secondary",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-outline-primary",actionsDiv:"",actionsButton:"btn btn-xs btn-outline-secondary",toolbarUpper:"",toolbarBottom:"",pager:{pager:"card-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",menuItem:"",menuItemButton:"dropdown-item",operButton:"btn btn-xs btn-outline-secondary",clearButton:"btn btn-xs btn-outline-secondary"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"}},htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/&#39;/g,"'").replace(/&#47;/g,"/").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldEncodePostedData:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldDecodePostedData:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},clearArray:function(e){for(;0<e.length;)e.pop()},format:function(e){var r=$.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\{(\d+)\}/g,function(e,t){return r[t]})},template:function(e){var a,l=$.makeArray(arguments).slice(1),o=l.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((\.*?)?\))?)?\}/g,function(e,t){var r,i;if(!isNaN(parseInt(t,10)))return l[parseInt(t,10)];for(a=0;a<o;a++)if($.isArray(l[a]))for(i=(r=l[a]).length;i--;)if(t===r[i].nm)return r[i].v})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e,t=-1;return"Microsoft Internet Explorer"===navigator.appName?null!=(e=/(MSIE) ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent))&&3===e.length&&(t=parseFloat(e[2]||-1)):"Netscape"===navigator.appName&&null!=(e=/rv:([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent))&&2===e.length&&(t=parseFloat(e[1]||-1)),t},fixMaxHeightOfDiv:function(e){return"Microsoft Internet Explorer"===navigator.appName?Math.min(e,1533917):null!=/(Firefox)/.exec(navigator.userAgent)?Math.min(e,17895696):e},getRelativeRect:function(e){var t,r,i=e instanceof $&&0<e.length?e[0]:e,a=$(i).outerHeight(),l=$(this).closest(".ui-jqgrid")[0];return l?(t=null!=i.getBoundingClientRect?i.getBoundingClientRect():$(i).offset(),r=null!=l.getBoundingClientRect?l.getBoundingClientRect():$(l).offset(),{top:t.top+a-r.top,left:t.left-r.left}):{top:0,left:0}},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:null==(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0])?-1:jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex},stripHtml:function(e){return(e=String(e))?(e=e.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""))&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/"/g,"'"):"":e},stripPref:function(e,t){var r=$.type(e);return"string"!==r&&"number"!==r||(t=""!==(e=String(e))?String(t).replace(String(e),""):t),t},getRes:function(e,t){var r,i=t.split("."),a=i.length;if(null!=e){for(r=0;r<a;r++){if(!i[r])return null;if(void 0===(e=e[i[r]]))break;if("string"==typeof e)return e}return e}},parseDate:function(e,t,r,i){var a,l,o,n=0,s=0,d="string"==typeof t?t.match(/^\/Date\((([\-+])?[0-9]+)(([\-+])([0-9]{2})([0-9]{2}))?\)\/$/):null,c=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},u={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},g=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t};if(void 0===(i=function(e,t){var r,i,a=["AmPm","dayNames","masks","monthNames","userLocalTime","parseRe","S","srcformat"],l=t||{},o=(jgrid.formatter||{}).date||{},n=((locales[(e||$.jgrid.defaults).locale]||{}).formatter||{}).date,s=a.length,d={};for(r=0;r<s;r++)void 0!==l[i=a[r]]?d[i]=l[i]:void 0!==o[i]?d[i]=o[i]:void 0!==n[i]&&(d[i]=n[i]);return d}(this.p,i)).parseRe&&(i.parseRe=/[#%\\\/:_;.,\t\s\-]/),i.masks.hasOwnProperty(e)&&(e=i.masks[e]),t&&null!=t)if(isNaN(t)||"u"!==String(e).toLowerCase())if(isNaN(t)||"u1000"!==String(e).toLowerCase())if(t.constructor===Date)n=t;else if(null!==d)n=new Date(parseInt(d[1],10)),d[3]&&(s=60*Number(d[5])+Number(d[6]),s*="-"===d[4]?1:-1,s-=n.getTimezoneOffset(),n.setTime(Number(Number(n)+60*s*1e3)));else{for("ISO8601Long"===i.srcformat&&"Z"===t.charAt(t.length-1)&&(s-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(i.parseRe),e=e.replace(/\T/g,"#").replace(/\t/,"%").split(i.parseRe),l=0,o=Math.min(e.length,t.length);l<o;l++){switch(e[l]){case"M":-1!==(a=$.inArray(t[l],i.monthNames))&&a<12&&(t[l]=a+1,u.m=t[l]);break;case"F":-1!==(a=$.inArray(t[l],i.monthNames,12))&&11<a&&(t[l]=a+1-12,u.m=t[l]);break;case"n":u.m=parseInt(t[l],10);break;case"j":u.d=parseInt(t[l],10);break;case"g":u.h=parseInt(t[l],10);break;case"a":-1!==(a=$.inArray(t[l],i.AmPm))&&a<2&&t[l]===i.AmPm[a]&&(t[l]=a,u.h=g(t[l],u.h));break;case"A":-1!==(a=$.inArray(t[l],i.AmPm))&&1<a&&t[l]===i.AmPm[a]&&(t[l]=a-2,u.h=g(t[l],u.h))}void 0!==t[l]&&(u[e[l].toLowerCase()]=parseInt(t[l],10))}if(u.f&&(u.m=u.f),0===u.m&&0===u.y&&0===u.d)return"&#160;";u.m=parseInt(u.m,10)-1;var p=u.y;70<=p&&p<=99?u.y=1900+u.y:0<=p&&p<=69&&(u.y=2e3+u.y),n=new Date(u.y,u.m,u.d,u.h,u.i,u.s,u.u),0!==s&&n.setTime(Number(Number(n)+60*s*1e3))}else n=new Date(parseFloat(t));else n=new Date(1e3*parseFloat(t));else n=new Date(u.y,u.m,u.d,u.h,u.i,u.s,u.u);if(i.userLocalTime&&0===s&&0!==(s-=(new Date).getTimezoneOffset())&&n.setTime(Number(Number(n)+60*s*1e3)),void 0===r)return n;if(i.masks.hasOwnProperty(r)?r=i.masks[r]:r||(r="Y-m-d"),"u1000"===r.toLowerCase())return n.getTime();var h=n.getHours(),f=n.getMinutes(),m=n.getDate(),v=n.getMonth()+1,b=n.getTimezoneOffset(),w=n.getSeconds(),y=n.getMilliseconds(),C=n.getDay(),x=n.getFullYear(),j=(C+6)%7+1,D=(new Date(x,v-1,m)-new Date(x,0,1))/864e5,_=j<5?Math.floor((D+j-1)/7)+1:Math.floor((D+j-1)/7)||((new Date(x-1,0,1).getDay()+6)%7<4?53:52),R={d:c(m),D:i.dayNames[C],j:m,l:i.dayNames[C+7],N:j,S:i.S(m),w:C,z:D,W:_,F:i.monthNames[v-1+12],m:c(v),M:i.monthNames[v-1],n:v,t:"?",L:"?",o:"?",Y:x,y:String(x).substring(2),a:h<12?i.AmPm[0]:i.AmPm[1],A:h<12?i.AmPm[2]:i.AmPm[3],B:"?",g:h%12||12,G:h,h:c(h%12||12),H:c(h),i:c(f),s:c(w),u:y,e:"?",I:"?",O:(0<b?"-":"+")+c(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),P:"?",T:(String(n).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\-+]\d{4})?)\b/g)||[""]).pop().replace(/[^\-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(n/1e3)};return r.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(e){return R.hasOwnProperty(e)?R[e]:e.substring(1)})},parseDateToNumber:function(e,t){var r=jgrid.parseDate.call(this,e,t);return r instanceof Date?r.getTime():0},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},getGridComponentId:function(e){if(null==this.p||!this.p.id)return"";var t=this.p.id;switch(e){case COMPONENT_NAMES.GRID:return t;case COMPONENT_NAMES.GRID_BOX_DIV:return"gbox_"+t;case COMPONENT_NAMES.GRID_VIEW_DIV:return"gview_"+t;case COMPONENT_NAMES.DIALOG_ALERT_DIV:return"alertmod_"+t;case COMPONENT_NAMES.COLUMN_RESIZER_DIV:return"rs_m"+t;case COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX:return"cb_"+t;case COMPONENT_NAMES.SEARCH_OPERATION_MENU_UL:return"sopt_menu";default:return""}},getGridComponentIdSelector:function(e){var t=jgrid.getGridComponentId.call(this,e);return t?"#"+jgrid.jqID(t):""},isHTMLElement:function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement:null!=e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},getGridComponent:function(e,t){var r;if(t instanceof $||0<t.length)r=t[0];else{if(!jgrid.isHTMLElement(t))return $();t=$(r=t)}switch(e){case COMPONENT_NAMES.BODY_TABLE:return t.hasClass("ui-jqgrid-bdiv")?t.children("div").children(".ui-jqgrid-btable"):$();case COMPONENT_NAMES.HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children("div").children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children("div").children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.FROZEN_HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FROZEN_FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.BODY_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=r.grid?$(r.grid.bDiv):$();case COMPONENT_NAMES.HEADER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=r.grid?$(r.grid.hDiv):$();case COMPONENT_NAMES.FOOTER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=r.grid?$(r.grid.sDiv):$();default:return $()}},fixScrollOffsetAndhBoxPadding:function(){var e=this.grid;if(e){var r=this.p,i=e.bDiv,t=function(e){var t=$(e).children("div").first();t.css(t.hasClass("ui-jqgrid-hbox-rtl")?"padding-left":"padding-right",r.scrollOffset),e.scrollLeft=i.scrollLeft};0<$(i).width()&&(r.scrollOffset=i.offsetWidth-i.clientWidth,t(e.hDiv),e.sDiv&&t(e.sDiv))}},mergeCssClasses:function(){var e,t,r,i,a=$.makeArray(arguments),l={},o=[];for(e=0;e<a.length;e++)for(r=String(a[e]).replace(/[\t\r\n\f]/g," ").split(" "),t=0;t<r.length;t++)""===(i=r[t])||l.hasOwnProperty(i)||(l[i]=!0,o.push(i));return o.join(" ")},hasOneFromClasses:function(e,t){var r,i=$(e),a=String(t).replace(/[\t\r\n\f]/g," ").split(" "),l=a.length;for(r=0;r<l;r++)if(i.hasClass(a[r]))return!0;return!1},hasAllClasses:function(e,t){var r,i=$(e),a=String(t).replace(/[\t\r\n\f]/g," ").split(" "),l=a.length;for(r=0;r<l;r++)if(!i.hasClass(a[r]))return!1;return!0},detectRowEditing:function(e){return this.grid&&null!=this.p&&null!=this.p.editingInfo&&null!=this.p.editingInfo[e]?this.p.editingInfo[e]:null},getCell:function(e,t){var r,i,a=this.grid,l=this.p;return a&&l?((e instanceof $||0<e.length)&&(e=e[0]),("object"==typeof HTMLTableRowElement||"function"==typeof HTMLTableRowElement)&&e instanceof HTMLTableRowElement&&null!=e.cells?(i=$(e.cells[t]),null!=(r=a.fbRows)&&t<r[0].cells.length?i.add(r[e.rowIndex].cells[t]):i):$()):$()},getDataFieldOfCell:function(e,t){var r,i=this.p,a=jgrid.getCell.call(this,e,t);return i.treeGrid&&0<a.children("div.tree-wrap").length&&(a=a.children("span.cell-wrapperleaf,span.cell-wrapper")),i.colModel[t].autoResizable?0===(r=a.children("span."+i.autoResizing.wrapperClassName)).length&&(r=a):r=a,r},enumEditableCells:function(e,t,r){var i=this,a=i.grid,l=i.rows,o=i.p;if(null==a||null==l||null==o||null==e||null==e.rowIndex||!e.id||!$.isFunction(r))return null;var n,s,d,c,u,g,p,h,f,m,v,b=o.colModel,w=b.length,y=e.rowIndex,C=a.fbRows,x=null!=C,j=x?C[y]:null;for(x&&(e=i.rows[y]),n=0;n<w&&("cb"===(d=(s=b[n]).name)||"subgrid"===d||"rn"===d||(x&&!s.frozen&&(x=!1),f=(x?j:e).cells[n],(m=$(f)).hasClass("not-editable-cell")||(v=m.width(),!0===o.treeGrid&&d===o.ExpandColumn?(v-=m.children("div.tree-wrap").outerWidth(),m=m.children("span.cell-wrapperleaf,span.cell-wrapper").first()):v=0,u=stripPref(o.idPrefix,e.id),c={rowid:e.id,id:u,iCol:n,iRow:y,cmName:d,cm:s,mode:t,td:f,tr:e,trFrozen:j,dataElement:m[0],dataWidth:v},"local"===o.datatype&&(p=null!=(g=o._index[u])?o.data[g]:void 0)&&(c.item=p),s.edittype||(s.edittype="text"),((o.editingInfo[e.id]||{}).editable||{}).hasOwnProperty(d)?h=o.editingInfo[e.id].editable[d]:(h=s.editable,h=$.isFunction(h)?h.call(i,c):h),!0!==h&&"hidden"!==h||(c.editable=h,!1!==r.call(i,c)))));n++);},getEditedValue:function(e,t,r,i){var a,l,o,n,s,d,c=t.formatoptions||{},u=t.editoptions||{},g=u.custom_value,p="[name="+jgrid.jqID(t.name)+"]",h=this,f=$(h);if("hidden"===i||"readonly"===i)return $(h).jqGrid("getCell",e.closest("tr.jqgrow").attr("id"),t.name);switch(t.edittype){case"checkbox":l=["Yes","No"],"string"==typeof u.value&&(l=u.value.split(":")),a=e.find("input[type=checkbox]").is(":checked")?l[0]:l[1];break;case"text":case"password":case"textarea":case"button":a=(n=e.find("input"+p+",textarea"+p)).val(),"date"===n.prop("type")&&3===String(a).split("-").length&&(o=c.newformat||f.jqGrid("getGridRes","formatter.date.newformat"),a=jgrid.parseDate.call(h,"Y-m-d",a,o));break;case"select":n=e.find("select option:selected"),u.multiple?(s=[],d=[],n.each(function(){s.push($(this).val()),d.push($(this).text())}),a=s.join(","),r.text=d.join(",")):(a=n.val(),r.text=n.text()),r.value=a;break;case"custom":try{if(!$.isFunction(g))throw"e1";if(void 0===(a=g.call(h,e.find(".customelement"),"get")))throw"e2"}catch(e){var m,v=jgrid.info_dialog,b=function(e){f.jqGrid("getGridRes",e)};switch(String(e)){case"e1":m="function 'custom_value' "+b("edit.msg.nodefined");break;case"e2":break;default:m=e.message}v&&$.isFunction(v)?v.call(h,b("errors.errcap"),m,b("edit.bClose")):($.isFunction(defaults.fatalError)?defaults.fatalError:alert)(m)}break;default:a=e.find("*"+p).text()}return a},guid:1,uidPref:"jqg",randId:function(e){return(e||jgrid.uidPref)+jgrid.guid++},getAccessor:function(e,t){var r,i,a,l=[];if($.isFunction(t))return t(e);if(null!=e&&e.hasOwnProperty(t))return e[t];try{if("string"==typeof t&&(l=t.split(".")),a=l.length)for(r=e;null!=r&&a--;)i=l.shift(),r=r.hasOwnProperty(i)?r[i]:void 0}catch(e){}return r},getXmlData:function(e,t,r){var i="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;if($.isFunction(t))return t(e);if(i&&i[2])return i[1]?$(i[1],e).attr(i[2]):$(e).attr(i[2]);if(void 0!==e){var a=$(e).find(t);return r?a:0<a.length?$(a).text():void 0}},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div></div></div>"),t=e.appendTo("body").find("td").width();return e.remove(),.1<Math.abs(t-5)},isCellClassHidden:function(e){if(null==e||""===e)return!1;var t=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;' class='"+(e||"")+"'></td></tr></table></div></div></div>"),r=t.appendTo("body").find("td").is(":hidden");return t.remove(),r},cell_width:!0,ajaxOptions:{},from:function(source){var context=this,QueryObject=function(d,q){var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],toString=Object.prototype.toString;if("object"!=typeof d||!d.push)throw"data provides is not an array";if(0<d.length&&"object"!=typeof d[0])throw"data items are not objects";return this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+" || '')"),_trim&&t.push(")"),_usecase||t.push(".toUpperCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/"/g,'\\"'),_usecase?e:e.toUpperCase()},this._funcLoop=function(r){var i=[];return $.each(_data,function(e,t){i.push(r(t))}),i},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;t<_orDepth;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_lastCommand(_lastField,e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,r){return void 0===r&&(r=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:("[object Date]"===toString.call(e)&&"[object Date]"===toString.call(t)||_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),e<t?-r:t<e?r:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var r=_sorting[t].by,i=_sorting[t].dir,a=_sorting[t].type,l=_sorting[t].datefmt,o=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,r,i,a,l,o);t++;var n,s,d,c=self._getGroup(e,r,i,a,l),u=[];for(n=0;n<c.length;n++)for(d=self._doSort(c[n].items,t),s=0;s<d.length;s++)u.push(d[s]);return u},this._getOrder=function(e,r,t,i,a,l){var o,n,s,d=[],c=[],u="a"===t?1:-1;void 0===i&&(i="text"),s="float"===i||"number"===i||"currency"===i||"numeric"===i?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===i||"integer"===i?function(e){return null!=e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===i||"datetime"===i?function(e){return jgrid.parseDateToNumber.call(context,a,e)}:$.isFunction(i)?i:function(e){return e=null!=e?$.trim(String(e)):"",_usecase?e:e.toUpperCase()},$.each(e,function(e,t){void 0===(n=""!==r?jgrid.getAccessor(t,r):t)&&(n=""),n=s.call(context,n,t),c.push({vSort:n,data:t,index:e})}),$.isFunction(l)?c.sort(function(e,t){return l.call(context,e.vSort,t.vSort,u,e.data,t.data)}):c.sort(function(e,t){return self._compare(e.vSort,t.vSort,u)});for(var g=0,p=e.length;g<p;)o=c[g].index,d.push(e[o]),g++;return d},this._getGroup=function(e,i,t,r,a){var l=[],o=null,n=null;return $.each(self._getOrder(e,i,t,r,a),function(e,t){var r=jgrid.getAccessor(t,i);null==r&&(r=""),self._equals(n,r)||(n=r,null!==o&&l.push(o),o=self._group(i,r)),o.items.push(t)}),null!==o&&l.push(o),l},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match||($.each(_data,function(){(function(){var localMath='(function (context) {\nvar yesObject = { 1: 1, x: 1, "true": 1, yes: 1, y: 1, on: 1 },noObject = { 0: 1, "false": 1, no: 1, n: 1, off: 1 },normilizeBoolean = function (v) {\nif (typeof v === "string") {\nif (noObject[v.toLowerCase()]) { return false; } else if (yesObject[v.toLowerCase()]) { return true; } }\nreturn !!v;\n},intFunc = function (jQuery, self) { return '+match+"; }; return intFunc.call(context.item, context.jQuery, context.context); }(this))";eval(localMath)&&results.push(this.item)}).call({item:this,jQuery:$,context:context})}),_data=results),self},this.data=function(){return _data},this.select=function(r){if(self.execute(),$.isFunction(r)){var i=[];return $.each(_data,function(e,t){i.push(r(t))}),i}return self._hasData()?(self._performSort(),_data):[]},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),0<_data.length)},this.andNot=function(e,t,r){return _negate=!_negate,self.and(e,t,r)},this.orNot=function(e,t,r){return _negate=!_negate,self.or(e,t,r)},this.not=function(e,t,r){return self.andNot(e,t,r)},this.and=function(e,t,r){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,r)},this.or=function(e,t,r){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,r)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,r,i,a){var l=t;void 0===r&&(r=null);var o=r,n=void 0===a.stype?"text":a.stype;if(null!==r)switch(n){case"int":case"integer":o=String(o).replace(_stripNum,""),o=isNaN(Number(o))||""===o?"0":Number(o),l="parseInt("+l+"||0,10)",o=String(parseInt(o,10));break;case"boolean":l="normilizeBoolean("+l+")",o="normilizeBoolean("+String(o)+")";break;case"float":case"number":case"currency":case"numeric":o=String(o).replace(_stripNum,""),o=isNaN(Number(o))||""===o?"0":Number(o),l="parseFloat("+l+"||0)",o=String(o);break;case"date":case"datetime":o=String(jgrid.parseDateToNumber.call(context,a.newfmt||"Y-m-d",o)),l='jQuery.jgrid.parseDateToNumber.call(self,"'+a.srcfmt+'",'+l+")";break;default:l=self._getStr(l),o=self._getStr('"'+self._toStr(o)+'"')}return self._append(l+" "+i+" "+o),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,r){return self._compareValues(self.equals,e,t,"==",r)},this.notEquals=function(e,t,r){return self._compareValues(self.equals,e,t,"!==",r)},this.isNull=function(e,t,r){return self._compareValues(self.equals,e,null,"===",r)},this.greater=function(e,t,r){return self._compareValues(self.greater,e,t,">",r)},this.less=function(e,t,r){return self._compareValues(self.less,e,t,"<",r)},this.greaterOrEquals=function(e,t,r){return self._compareValues(self.greaterOrEquals,e,t,">=",r)},this.lessOrEquals=function(e,t,r){return self._compareValues(self.lessOrEquals,e,t,"<=",r)},this.startsWith=function(e,t){var r=null==t?e:t,i=_trim?$.trim(r.toString()).length:r.toString().length;return self._append(self._getStr(e)+".substr(0,"+i+") == "+self._getStr('"'+self._toStr(t)+'"')),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var r=null==t?e:t,i=_trim?$.trim(r.toString()).length:r.toString().length;return self._append(self._getStr(e)+".substr("+self._getStr(e)+".length-"+i+","+i+') == "'+self._toStr(t)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return self._append(self._getStr(e)+'.indexOf("'+self._toStr(t)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,r,i){return self._hasData()?self._getGroup(_data,e,t,r,i):null},this.orderBy=function(e,t,r,i,a){return null==r&&(r="text"),null==i&&(i="Y-m-d"),null==a&&(a=!1),"desc"!==(t=null==t?"a":$.trim(t.toString().toLowerCase()))&&"descending"!==t||(t="d"),"asc"!==t&&"ascending"!==t||(t="a"),_sorting.push({by:e,dir:t,type:r,datefmt:i,sfunc:a}),self},this.inSet=function(e,t,r){var i=void 0===t?null:t,a=void 0===r.stype?"text":r.stype;return i=self._getStr('"'+self._toStr(i)+'"'),"text"!==a?self._compareValues(self.equals,e,t,"==",r):(self._append("jQuery.inArray("+self._getStr(e)+","+i+".split('"+(context.p.inFilterSeparator||",")+"')) >= 0"),self._setCommand(self.inSet,e),self._resetNegate(),self)},this.custom=function(e,t,r){return self._append("self.p.customSortOperations."+e+'.filter.call(self,{item:this,cmName:"'+t+'",iCol:self.p.iColByName["'+t+'"]>=0 ? self.p.iColByName["'+t+'"] : self.p.iPropByName["'+t+'"],isAddProp:self.p.iColByName["'+t+'"]<0,searchValue:"'+r+'"})'),self._setCommand(self.custom,t),self._resetNegate(),self},self};return new QueryObject(source,null)},serializeFeedback:function(e,t,r){var i,a=this;return a instanceof $&&0<a.length&&(a=a[0]),"string"==typeof r?r:"string"==typeof(i=$(a).triggerHandler(t,r))?i:(null!=i&&"object"==typeof i||(i=r),$.isFunction(e)?e.call(a,i):i)},fullBoolFeedback:function(e,t){var r=$.makeArray(arguments).slice(2),i=$(this).triggerHandler(t,r);if(i=!1!==i&&"stop"!==i,$.isFunction(e)){var a=e.apply(this,r);!1!==a&&"stop"!==a||(i=!1)}return i},feedback:function(e,t,r,i){var a=this;if(a instanceof $&&0<a.length&&(a=a[0]),null==e||"string"!=typeof i||i.length<2)return null;var l="on"===i.substring(0,2)?"jqGrid"+t+i.charAt(2).toUpperCase()+i.substring(3):"jqGrid"+t+i.charAt(0).toUpperCase()+i.substring(1),o=$.makeArray(arguments).slice(4),n=e[i+r];return o.unshift(l),o.unshift(n),jgrid.fullBoolFeedback.apply(a,o)},builderSortIcons:function(a){var l=this,o=l.p,n=$(l),s=n.jqGrid("getGuiStyles","states.disabled"),e=function(e){var t=o.colModel[a],r=null!=t&&$.isFunction(t.sortIconName)?t.sortIconName:o.sortIconName,i=$.isFunction(r)?r.call(l,{order:e,iCol:a,cm:t}):n.jqGrid("getIconRes","sort."+e);return jgrid.mergeCssClasses("ui-grid-ico-sort","ui-icon-"+e,"horizontal"===o.viewsortcols[1]?"ui-i-"+e:"",s,i,"ui-sort-"+o.direction)};return"<span class='s-ico"+(o.sortIconsBeforeText?" jqgrid-icons-first":"")+"' style='display:none'><span class='"+e("asc")+"'></span><span class='"+e("desc")+"'></span></span>"},builderFmButon:function(e,t,r,i,a){var l=this.p,o=$(this),n=function(e){return o.jqGrid("getGuiStyles","dialog."+e)};return null==l?"":"<a id='"+e+"' class='"+jgrid.mergeCssClasses("fm-button",n("fmButton"),n("right"===a?"rightCorner":"left"===a?"leftCorner":"defaultCorner"),"right"===i?"fm-button-icon-right":"left"===i?"fm-button-icon-left":"")+"' role='button' tabindex='0'>"+(r?"<span class='fm-button-icon "+(o.jqGrid("getIconRes",r)||r)+"'></span>":"")+(t?"<span class='fm-button-text'>"+t+"</span>":"")+"</a>"},convertOnSaveLocally:function(e,t,r,i,a,l){if(null==this.p)return e;if($.isFunction(t.convertOnSave))return t.convertOnSave.call(this,{newValue:e,cm:t,oldValue:r,id:i,item:a,iCol:l});if("boolean"!=typeof r&&"number"!=typeof r)return e;if("boolean"!=typeof r||"checkbox"!==t.edittype&&"checkbox"!==t.formatter)"number"!=typeof r||isNaN(e)||("number"===t.formatter||"currency"===t.formatter?e=parseFloat(e):"integer"===t.formatter&&(e=parseInt(e,10)));else{var o=String(e).toLowerCase(),n=null!=t.editoptions&&"string"==typeof t.editoptions.value?t.editoptions.value.split(":"):["yes","no"];0<=$.inArray(o,["1","true",n[0].toLowerCase()])?e=!0:0<=$.inArray(o,["0","false",n[1].toLowerCase()])&&(e=!1)}return e},parseDataToHtml:function(e,t,r,i,a,l,o){var n,s,d,c,u,g,p,h,f,m,v,b,w,y,C,x,j,D,_,R,S,N,I,O,q,E,A,T,k=this,G=k.p,B=$(k),M=!1,F=[],P=[],L=!0!==G.altRows||B.jqGrid("isBootstrapGuiStyle")?"":G.altclass,z=G.groupingView,H=!1,W=parseInt(G.rowNum,10),V=$.fn.jqGrid,U=!0===G.treeGrid&&-1<G.treeANode?k.rows[G.treeANode].rowIndex+1:k.rows.length,X=k.formatCol;for(U<=1&&(G.rowIndexes={}),("local"===G.datatype&&!G.deselectAfterSort||G.multiPageSelection)&&(M=!0),l&&(W*=l+1),n=0;n<Math.min(e,W);n++){for(u=t[n],g=r[n],p=null!=i?i[n]:g,d=((1===a?0:a)+n)%2==1?L:"",M?G.multiselect?(c=-1!==$.inArray(u,G.selarrrow))&&null===G.selrow&&(G.selrow=u):c=u===G.selrow:c=!1,h=F.length,F.push(""),s=0;s<G.colModel.length;s++)switch(f=G.colModel[s].name){case"rn":F.push((O=s,q=n,E=G.page,A=G.rowNum,void 0,T=(parseInt(E,10)-1)*parseInt(A,10)+1+q,"<td role='gridcell' class='"+V.getGuiStyles.call(B,"rowNum","jqgrid-rownum")+"' "+X(O,q,T,null,q,!0)+">"+T+"</td>"));break;case"cb":F.push((S=void 0,S="&nbsp;",N=!(N=void 0),I={rowid:j=u,iRow:_=n,iCol:D=s,data:g,checked:R=c},$.isFunction(G.hasMultiselectCheckBox)&&(N=G.hasMultiselectCheckBox.call(k,I)),N&&(S=$.isFunction(G.checkboxHtml)?G.checkboxHtml.call(k,I):"<input type='checkbox' id='jqg_"+G.id+"_"+j+"' class='cbox' name='jqg_"+G.id+"_"+j+"'"+(R?" checked='checked' aria-checked='true'":" aria-checked='false'")+"/>"),"<td role='gridcell' "+X(D,_,"",null,j,!0)+">"+S+"</td>"));break;case"subgrid":F.push(V.addSubGridCell.call(B,s,n+a,u,g));break;default:F.push((m=u,v=g[f],b=s,w=n+a,y=p,C=g,void 0,x=k.formatter(m,v,b,y,"add",C),"<td role='gridcell' "+X(b,w,x,y,m,C)+">"+x+"</td>"))}G.grouping&&(V.groupingPrepare&&!z._locgr&&V.groupingPrepare.call(B,g,n),H=$.isFunction(z.groupCollapse)?z.groupCollapse.call(k,{group:z.groups[z.groups.length-1],rowid:u,data:g}):z.groupCollapse),F[h]=k.constructTr(u,H,d,g,p,c),F.push("</tr>"),G.rowIndexes[u]=U,U++,G.grouping&&(P.push(F),F=[]),F.length>G.maxItemsToJoin&&(F=[F.join("")])}return G.grouping&&V.groupingRender&&(o&&(z._locgr=!0),F=[V.groupingRender.call(B,P,W)],jgrid.clearArray(P)),F},fillSelectOptions:function(e,t,r,i,a,l){var o,n,s,d,c,u,g,p,h=[],f=!1,m=function(e,t){if(0<t)return e};if(t){if("function"==typeof t&&(t=t()),"string"==typeof t)for(n=t.split(i),o=0;o<n.length;o++)2<(s=n[o].split(r)).length&&(s[1]=$.map(s,m).join(r)),h.push({value:s[0],innerHtml:s[1],selectValue:$.trim(s[0]),selectText:$.trim(s[1]),selected:!1}),""===s[0]&&(f=!0);else if("object"==typeof t)for(g in t)t.hasOwnProperty(g)&&h.push({value:g,innerHtml:t[g],selectValue:$.trim(g),selectText:$.trim(t[g]),selected:!1}),""===g&&(f=!0);if("string"==typeof l){for(p=a?$.map(l.split(","),function(e){return $.trim(e)}):[$.trim(l)],l=$.trim(l),o=0;o<h.length;o++)c=h[o],a||c.selectValue!==l||(u=c.selected=!0),a&&-1<$.inArray(c.selectValue,p)&&(u=c.selected=!0);if(!u)for(o=0;o<h.length;o++)c=h[o],a||c.selectText!==l||(c.selected=!0),a&&-1<$.inArray(c.selectText,p)&&(c.selected=!0)}for(o=0;o<h.length;o++)c=h[o],(d=document.createElement("option")).value=c.value,d.innerHTML=c.innerHtml,c.selected&&(d.selected=!0),e.appendChild(d);return f}},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)}});var clearArray=jgrid.clearArray,jqID=jgrid.jqID,getGridComponentIdSelector=jgrid.getGridComponentIdSelector,getGridComponentId=jgrid.getGridComponentId,getGridComponent=jgrid.getGridComponent,stripPref=jgrid.stripPref,randId=jgrid.randId,getAccessor=jgrid.getAccessor,convertOnSaveLocally=jgrid.convertOnSaveLocally,stripHtml=jgrid.stripHtml,htmlEncode=jgrid.htmlEncode,htmlDecode=jgrid.htmlDecode,mergeCssClasses=jgrid.mergeCssClasses,hasOneFromClasses=jgrid.hasOneFromClasses,feedback=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)};$.fn.jqGrid=function(Xe){var e,Ye=$.fn.jqGrid;if("string"==typeof Xe){if(!(e=Ye[Xe]))throw"jqGrid - No such method: "+Xe;return e.apply(this,$.makeArray(arguments).slice(1))}return this.each(function(){if(!this.grid){var e,t,D=this,h=$(D),K=$.isFunction,J=$.isArray,_=$.extend,b=$.inArray,r=$.trim,R=$.each,f=Ye.setSelection,i=Ye.getGridRes,S=K(defaults.fatalError)?defaults.fatalError:alert,a=Xe.locale||defaults.locale||"en-US",l=null!=locales[a]&&"boolean"==typeof locales[a].isRTL&&locales[a].isRTL?"rtl":"ltr",o=Xe.iconSet||defaults.iconSet||("bootstrap"===(Xe.guiStyle||defaults.guiStyle)||"bootstrapPrimary"===(Xe.guiStyle||defaults.guiStyle)?"glyph":"jQueryUI"),n=Xe.guiStyle||defaults.guiStyle||"jQueryUI",N=function(e){return Ye.getIconRes.call(D,e)},I=function(e,t){return h.jqGrid("getGuiStyles",e,t)};null==Xe&&(Xe={datatype:"local"}),void 0!==Xe.datastr&&J(Xe.datastr)&&(t=Xe.datastr,Xe.datastr=[]),void 0!==Xe.data&&(e=Xe.data,Xe.data=[]),null!=jgrid.formatter&&null!=jgrid.formatter.unused||S("CRITICAL ERROR!!!\n\n\nOne uses probably\n\n\t$.extend($.jgrid.defaults, {...});\n\nto set default settings of jqGrid instead of the usage the DEEP version of jQuery.extend (with true as the first parameter):\n\n\t$.extend(true, $.jgrid.defaults, {...});\n\nOne other possible reason:\n\nyou included some OLD version of language file (grid.locale-en.js for example) AFTER jquery.jqGrid.min.js. For example all language files of jqGrid 4.7.0 uses non-deep call of jQuery.extend.\n\n\nSome options of jqGrid could still work, but another one will be broken."),void 0===Xe.datatype&&void 0!==Xe.dataType&&(Xe.datatype=Xe.dataType,delete Xe.dataType),void 0===Xe.mtype&&void 0!==Xe.type&&(Xe.mtype=Xe.type,delete Xe.type),D.p={iconSet:o};var ee=_(!0,{height:"auto",page:1,rowNum:20,maxRowNum:1e4,autoresizeOnLoad:!1,columnsToReResizing:[],autoResizing:{wrapperClassName:"ui-jqgrid-cell-wrapper",minColWidth:33,maxColWidth:300,adjustGridWidth:!0,compact:!1,fixWidthOnShrink:!1},doubleClickSensitivity:250,minResizingWidth:10,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],additionalProperties:[],arrayReader:[],rowList:[],colNames:[],sortorder:"asc",threeStateSort:!1,sortname:"",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],editingInfo:{},shrinkToFit:!0,xmlReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,singleSelectClickMode:"toggle",selectOnContextMenu:!0,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:function(e,t,r){if("abort"!==t&&"abort"!==r){var i=e.getResponseHeader("Content-Type"),a=e.responseText||"",l=function(e){try{var t,r=$.parseJSON(e),i=[];for(t in r)r.hasOwnProperty(t)&&"StackTrace"!==t&&i.push(t+": "+r[t]);e=i.join("<br />")}catch(e){}return e};"text/html"===i?a=function(e){var t,r,i,a=document.createElement("div");for(i=/<body[^>]*>([\s\S]*)<\/body\s*>/gim.exec(e),a.innerHTML=null!=i&&2===i.length?i[1]:e,r=(t=a.getElementsByTagName("script")).length;r--;)t[r].parentNode.removeChild(t[r]);e=a.innerHTML;try{""===$.trim($(e).text())&&(e="")}catch(e){}return e}(a):"application/json"===i?a=l(a):"text/plain"===i&&(a=l(a)),500!==e.status&&0!==e.status&&(a=(t||r)+(r&&r!==t?": "+r:"")+" "+e.status+" "+e.statusText+(""!==a?"<hr />":"")+a),h.jqGrid("displayErrorMessage",a||t||r)}},loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,forceClientSorting:!1,multiselect:!1,multikey:!1,editurl:"clientArray",search:!1,caption:"",hidegrid:!0,hiddengrid:!1,useUnformattedDataForCellAttr:!0,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",filters:"filters",nd:"nd",id:"id",idold:"idOld",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,iCol:-1,iRow:-1,nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,resetPageAfterSort:!0,multiPageSelection:!1,selectAllMode:"filtered",scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:16,multiselectWidth:16,multiselectPosition:"left",gridview:!0,rownumWidth:25,rownumbers:!1,pagerpos:"center",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!0,autoEncodeOnEdit:!1,remapColumns:[],cmNamesInputOrder:[],ajaxGridOptions:{},direction:l,toppager:!1,headertitles:!1,scrollTimeout:40,maxItemsToJoin:32768,data:[],lastSelectedData:[],quickEmpty:"quickest",_index:{},indexByColumnData:{},dataIndexById:{},iColByName:{},iPropByName:{},reservedColumnNames:["rn","cb","subgrid"],grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,useDefaultValuesOnGrouping:!0,summary:[],displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1,commonIconClass:N("grouping.common"),plusicon:N("grouping.plus"),minusicon:N("grouping.minus")},ignoreCase:!0,cmTemplate:{},idPrefix:"",iconSet:o,guiStyle:n,locale:a,multiSort:!1,showSortOrder:!0,sortOrderPosition:"afterSortIcons",multiSortOrder:"lastClickedFirstSorted",maxSortColumns:3,treeIcons:{commonIconClass:N("treeGrid.common"),plusLtr:N("treeGrid.plusLtr"),plusRtl:N("treeGrid.plusRtl"),minus:N("treeGrid.minus"),leaf:N("treeGrid.leaf")}},defaults,{navOptions:_(!0,{commonIconClass:N("nav.common"),editicon:N("nav.edit"),addicon:N("nav.add"),delicon:N("nav.del"),searchicon:N("nav.search"),refreshicon:N("nav.refresh"),viewicon:N("nav.view"),saveicon:N("nav.save"),cancelicon:N("nav.cancel"),buttonicon:N("nav.newbutton")},jgrid.nav||{}),actionsNavOptions:_(!0,{commonIconClass:N("actions.common"),editicon:N("actions.edit"),delicon:N("actions.del"),saveicon:N("actions.save"),cancelicon:N("actions.cancel")},jgrid.actionsNav||{}),formEditing:_(!0,{commonIconClass:N("form.common"),prevIcon:N("form.prev"),nextIcon:N("form.next"),saveicon:[!0,"left",N("form.save")],closeicon:[!0,"left",N("form.undo")]},jgrid.edit||{}),searching:_(!0,{commonIconClass:N("search.common"),findDialogIcon:N("search.search"),resetDialogIcon:N("search.reset"),queryDialogIcon:N("search.query")},jgrid.search||{}),formViewing:_(!0,{commonIconClass:N("form.common"),prevIcon:N("form.prev"),nextIcon:N("form.next"),closeicon:[!0,"left",N("form.cancel")]},jgrid.view||{}),formDeleting:_(!0,{commonIconClass:N("form.common"),delicon:[!0,"left",N("form.del")],cancelicon:[!0,"left",N("form.cancel")]},jgrid.del||{})},Xe||{}),O=function(e){return i.call(h,e)},q=function(e){var t=jgrid.getRes(ee,e);return void 0!==t?t:i.call(h,"defaults."+e)};if(ee.recordpos=ee.recordpos||("rtl"===ee.direction?"left":"right"),ee.autoResizing.widthOfVisiblePartOfSortIcon=void 0!==ee.autoResizing.widthOfVisiblePartOfSortIcon?ee.autoResizing.widthOfVisiblePartOfSortIcon:"fontAwesome"===ee.iconSet?13:12,ee.datatype=void 0!==ee.datatype?ee.datatype:void 0!==e||null==ee.url?"local":null!=ee.jsonReader&&"object"==typeof ee.jsonReader?"json":"xml",ee.jsonReader=ee.jsonReader||{},ee.url=ee.url||"",ee.cellsubmit=void 0!==ee.cellsubmit?ee.cellsubmit:void 0===ee.cellurl?"clientArray":"remote",ee.gridview=void 0!==ee.gridview?ee.gridview:null==ee.afterInsertRow,void 0!==e&&(ee.data=e,Xe.data=e),void 0!==t&&(ee.datastr=t,Xe.datastr=t),"TABLE"===D.tagName.toUpperCase())if(""===D.id&&h.attr("id",randId()),void 0!==document.documentMode&&document.documentMode<=5)S("Grid can not be used in this ('quirks') mode!");else{h.empty().attr("tabindex","0"),(D.p=ee).id=D.id,ee.idSel="#"+jqID(D.id),ee.gBoxId=getGridComponentId.call(D,COMPONENT_NAMES.GRID_BOX_DIV),ee.gBox=getGridComponentIdSelector.call(D,COMPONENT_NAMES.GRID_BOX_DIV),ee.gViewId=getGridComponentId.call(D,COMPONENT_NAMES.GRID_VIEW_DIV),ee.gView=getGridComponentIdSelector.call(D,COMPONENT_NAMES.GRID_VIEW_DIV),ee.rsId=getGridComponentId.call(D,COMPONENT_NAMES.COLUMN_RESIZER_DIV),ee.rs=getGridComponentIdSelector.call(D,COMPONENT_NAMES.COLUMN_RESIZER_DIV),ee.cbId=getGridComponentId.call(D,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX),ee.cb=getGridComponentIdSelector.call(D,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX);var E=jgrid.fixScrollOffsetAndhBoxPadding,s=function(e){var t,r={},i=e.length;for(t=0;t<i;t++)r[e[t].name]=t;return r},d=function(){var e,t,r={},i=ee.colModel,a=i.length;for(e=0;e<a;e++)((t=i[e]).createColumnIndex||ee.createColumnIndex&&!1!==t.createColumnIndex||"select"===t.stype&&(t.searchoptions||{}).generateValue||"select"===t.edittype&&(t.editoptions||{}).generateValue)&&(r[i[e].name]={});return r},c=function(e){var t,r,i={},a=e.length;for(t=0;t<a;t++)i["string"==typeof(r=e[t])?r:r.name]=t;return i},te=function(){var e,t,r={};for(this.p.rowIndexes=r,t=0;t<this.rows.length;t++)e=this.rows[t],$(e).hasClass("jqgrow")&&(r[e.id]=e.rowIndex)},u=function(e){var t=$(this).data("pageX");t?(t=(t=String(t).split(";"))[t.length-1],$(this).data("pageX",t+";"+e.pageX)):$(this).data("pageX",e.pageX)},re=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},ie={headers:[],cols:[],footers:[],dragStart:function(e,t,r,i){var a=this,l=$(a.bDiv),o=l.closest(ee.gBox).offset(),n=i.offset().left+("rtl"===ee.direction?0:a.headers[e].width+(jgrid.cell_width?0:re(ee.cellLayout,0))-2);a.resizing={idx:e,startX:n,sOL:n,moved:!1,delta:n-t.pageX},a.curGbox=$(ee.rs),a.curGbox.prependTo("body"),a.curGbox.css({display:"block",left:n,top:r[1]+o.top+1,height:r[2]}),a.curGbox.css("height",r[2]-(a.curGbox.outerHeight()-a.curGbox.height())+"px"),a.curGbox.data("idx",e),a.curGbox.data("delta",n-t.pageX),u.call(this.curGbox,t),feedback.call(getGridComponent(COMPONENT_NAMES.BODY_TABLE,l)[0],"resizeStart",t,e),document.onselectstart=function(){return!1},$(document).on("mousemove.jqGrid",function(e){if(ie.resizing)return ie.dragMove(e),!1}).on("mouseup.jqGrid"+ee.id,function(){if(ie.resizing)return ie.dragEnd(),!1})},dragMove:function(e){var t=this,r=t.resizing;if(r){var i,a,l=e.pageX+r.delta-r.startX,o=t.headers,n=o[r.idx],s="ltr"===ee.direction?n.width+l:n.width-l,d=((ee.colModel[r.idx]||{}).autoResizing||{}).minColWidth||ee.minResizingWidth;r.moved=!0,d<s&&(null==t.curGbox&&(t.curGbox=$(ee.rs)),t.curGbox.css({left:r.sOL+l}),!0===ee.forceFit?(i=o[r.idx+ee.nv],(a="ltr"===ee.direction?i.width-l:i.width+l)>ee.autoResizing.minColWidth&&(n.newWidth=s,i.newWidth=a)):(t.newWidth="ltr"===ee.direction?ee.tblwidth+l:ee.tblwidth-l,n.newWidth=s))}},resizeColumn:function(e,t,r){var i,a=this,l=a.headers,o=a.footers,n=l[e],s=n.newWidth||n.width,d=getGridComponent(COMPONENT_NAMES.BODY_TABLE,a.bDiv),c=getGridComponent(COMPONENT_NAMES.HEADER_TABLE,a.hDiv).children("thead").children("tr").first()[0].cells;s=parseInt(s,10),ee.colModel[e].width=s,n.width=s,c[e].style.width=s+"px",a.cols[e].style.width=s+"px",a.fbRows&&($(a.fbRows[0].cells[e]).css("width",s),$(getGridComponent(COMPONENT_NAMES.FROZEN_HEADER_TABLE,a.fhDiv)[0].rows[0].cells[e]).css("width",s),ee.footerrow&&$(getGridComponent(COMPONENT_NAMES.FROZEN_FOOTER_TABLE,a.fsDiv)[0].rows[0].cells[e]).css("width",s)),0<o.length&&(o[e].style.width=s+"px"),!0!==r&&E.call(d[0]),!0===ee.forceFit?(s=(i=l[e+ee.nv]).newWidth||i.width,i.width=s,c[e+ee.nv].style.width=s+"px",a.cols[e+ee.nv].style.width=s+"px",0<o.length&&(o[e+ee.nv].style.width=s+"px"),ee.colModel[e+ee.nv].width=s):(ee.tblwidth=a.newWidth||ee.tblwidth,!0!==r&&(a.hDiv.scrollLeft=a.bDiv.scrollLeft,ee.footerrow&&(a.sDiv.scrollLeft=a.bDiv.scrollLeft))),ee.autowidth||void 0!==ee.widthOrg&&"auto"!==ee.widthOrg&&"100%"!==ee.widthOrg||!0===r||Ye.setGridWidth.call(d,a.newWidth+ee.scrollOffset,!1),t||feedback.call(d[0],"resizeStop",s,e)},dragEnd:function(){var e=this;e.hDiv.style.cursor="default",e.resizing&&(null!==e.resizing&&!0===e.resizing.moved&&($(e.headers[e.resizing.idx].el).removeData("autoResized"),e.resizeColumn(e.resizing.idx,!1)),$(ee.rs).removeData("pageX"),e.resizing=!1,setTimeout(function(){$(ee.rs).css("display","none").prependTo(ee.gBox)},ee.doubleClickSensitivity)),e.curGbox=null,document.onselectstart=function(){return!0},$(document).off("mousemove.jqGrid mouseup.jqGrid"+ee.id)},populateVisible:function(){var e=this,t=$(e),r=e.grid,i=r.bDiv,a=$(i);r.timer&&clearTimeout(r.timer),r.timer=null;var l=a.height();if(l){var o,n;if(e.rows.length)try{n=(o=e.rows[1])&&$(o).outerHeight()||r.prevRowHeight}catch(e){n=r.prevRowHeight}if(n){r.prevRowHeight=n;var s=ee.rowNum;r.scrollTop=i.scrollTop;var d,c,u,g=r.scrollTop,p=Math.round(t.position().top)-g,h=p+t.height(),f=n*s;if(h<l&&p<=0&&(void 0===ee.lastpage||(parseInt((h+g+f-1)/f,10)||0)<=ee.lastpage)&&(c=parseInt((l-h+f-1)/f,10)||1,0<=h||c<2||!0===ee.scroll?(d=(Math.round((h+g)/f)||0)+1,p=-1):p=1),0<p&&(d=(parseInt(g/f,10)||0)+1,c=(parseInt((g+l)/f,10)||0)+2-d,u=!0),c){if(ee.lastpage&&(d>ee.lastpage||1===ee.lastpage||d===ee.page&&d===ee.lastpage))return;r.hDiv.loading?r.timer=setTimeout(function(){r.populateVisible.call(e)},ee.scrollTimeout):(ee.page=d,u&&(r.selectionPreserver.call(e),r.emptyRows.call(e,!1,!1)),r.populate.call(e,c))}}}},scrollGrid:function(){if(ee.scroll){var e=this.scrollTop;void 0===ie.scrollTop&&(ie.scrollTop=0),e!==ie.scrollTop&&(ie.scrollTop=e,ie.timer&&clearTimeout(ie.timer),ie.timer=setTimeout(function(){ie.populateVisible.call(D)},ee.scrollTimeout))}return ie.hDiv.scrollLeft=this.scrollLeft,ee.footerrow&&(ie.sDiv.scrollLeft=this.scrollLeft),!1},selectionPreserver:function(){var t=$(this),r=ee.selrow,i=ee.selarrrow?$.makeArray(ee.selarrrow):null,a=this.grid.bDiv,l=a.scrollLeft,o=function(){var e;if(ee.selrow=null,!ee.multiPageSelection){if(clearArray(ee.selarrrow),ee.multiselect&&i&&0<i.length)for(e=0;e<i.length;e++)i[e]!==r&&f.call(t,i[e],!1,null);r&&f.call(t,r,!1,null)}a.scrollLeft=l,t.off(".selectionPreserver",o)};t.on("jqGridGridComplete.selectionPreserver",o)}};D.grid=ie,feedback.call(D,"beforeInitGrid"),ee.iColByName=s(ee.colModel),ee.iPropByName=c(ee.additionalProperties),jgrid.msie=0<jgrid.msiever();var A,g=$("<div class='"+I("gView","ui-jqgrid-view")+"' role='grid' aria-multiselectable='"+!!ee.multiselect+"'></div>"),p=jgrid.msie;ee.direction=r(ee.direction.toLowerCase()),-1===b(ee.direction,["ltr","rtl"])&&(ee.direction="ltr"),A=ee.direction,$(g).insertBefore(D),h.removeClass("scroll").appendTo(g);var m=$("<div class='"+I("gBox","ui-jqgrid")+"'></div>");$(m).attr({id:ee.gBoxId,dir:A}).insertBefore(g),$(g).attr("id",ee.gViewId).appendTo(m),$("<div class='"+I("overlay","jqgrid-overlay")+"' id='lui_"+ee.id+"'></div>").insertBefore(g),$("<div class='"+I("loading","loading")+"' id='load_"+ee.id+"'>"+q("loadtext")+"</div>").insertBefore(g),h.attr({role:"presentation","aria-labelledby":"gbox_"+D.id});var v,w=function(e,t,r,i,a,l){var o,n,s,d,c,u,g,p=ee.colModel[e],h=r,f=p.classes,m=p.align?"text-align:"+p.align+";":"",v=function(e){return"string"==typeof e?e.replace(/'/g,"&#39;"):e},b=" aria-describedby='"+ee.id+"_"+p.name+"'";if(!0===p.hidden&&(m+="display:none;"),0===t)m+="width: "+ie.headers[e].width+"px;";else if((K(p.cellattr)||"string"==typeof p.cellattr&&null!=jgrid.cellattr&&K(jgrid.cellattr[p.cellattr]))&&(o=K(p.cellattr)?p.cellattr:jgrid.cellattr[p.cellattr],ee.useUnformattedDataForCellAttr&&null!=l?h=l[p.name]:p.autoResizable&&(n="<span class='"+ee.autoResizing.wrapperClassName+"'>",h=r.substring(n.length,r.length-"</span>".length)),"string"==typeof(d=o.call(D,a,h,i,p,l))))for(d=d.replace(/\n/g,"&#xA;");;){if(null===(c=/^\s*(\w+[\w|\-]*)\s*=\s*([\"|\'])(.*?)\2(.*)/.exec(d))||c.length<5)return!g&&p.title&&(g=h),b+" style='"+v(m)+"'"+(f?" class='"+v(f)+"'":"")+(g?" title='"+v(g)+"'":"");switch(u=c[3],d=c[4],c[1].toLowerCase()){case"class":f?f+=" "+u:f=u;break;case"title":g=u;break;case"style":m+=u;break;default:b+=" "+c[1]+"="+c[2]+u+c[2]}}return s=""!==m?"style='"+m+"'":"",s+=(void 0!==f?" class='"+f+"'":"")+(p.title&&h?" title='"+stripHtml(r).replace(/'/g,"&apos;")+"'":""),s+=b},y=function(e){return null==e||""===e?"&#160;":ee.autoencode?htmlEncode(e):String(e)},ae=function(e){var t=ee.treeReader,r=t.loaded,i=t.leaf_field,a=t.expanded_field,l=function(e){return!0===e||"true"===e||"1"===e};if("nested"===ee.treeGridModel&&!e[i]){var o=parseInt(e[t.left_field],10),n=parseInt(e[t.right_field],10);e[i]=n===o+1}void 0!==e[r]&&(e[r]=l(e[r])),e[i]=l(e[i]),e[a]=l(e[a])},le=function(e,t){var r,i;for(r in ee.indexByColumnData)ee.indexByColumnData.hasOwnProperty(r)&&(i=e[r],e.hasOwnProperty(r)&&void 0!==i&&""!==i&&(ee.ignoreCase&&(i=String(i).toLowerCase()),void 0===ee.indexByColumnData[r][i]&&(ee.indexByColumnData[r][i]={}),ee.indexByColumnData[r][i][t]=e[r],void 0===ee.dataIndexById[t]&&(ee.dataIndexById[t]={}),void 0===ee.dataIndexById[t][r]&&(ee.dataIndexById[t][r]={}),ee.dataIndexById[t][r][i]=ee.indexByColumnData[r][i]))},C=function(){var e,t,r,i,a,l,o,n,s,d,c,u,g=ee.data,p=g.length,h=ee.localReader,f=ee.additionalProperties,m=h.cell,v=ee.arrayReaderInfos;if("local"===ee.datatype&&!0===h.repeatitems)for(i=!1===ee.keyName?K(h.id)?h.id.call(D,g):h.id:ee.keyName,isNaN(i)?K(i)||null!=ee.arrayReaderInfos[i]&&(a=ee.arrayReaderInfos[i].order):a=Number(i),e=0;e<p;e++){for(s in t=g[e],r=m&&getAccessor(t,m)||t,d=J(r),o={},v)v.hasOwnProperty(s)&&(u=v[s],l=getAccessor(r,d?u.order:u.name),1===u.type&&null!=(c=f[u.index])&&K(c.convert)&&(l=c.convert(l,r)),void 0!==l&&(o[s]=l));void 0!==o[i]?n=void 0!==o[i]?o[i]:randId():(void 0===(n=getAccessor(t,J(t)?a:i))&&(n=getAccessor(r,J(r)?a:i)),void 0===n&&(n=randId())),n=String(n),o[h.id]=n,ee.treeGrid&&ae(o),_(g[e],o)}else if(ee.treeGrid)for(e=0;e<p;e++)ae(g[e])},x=function(){var e,t,r,i,a=ee.data.length;for(e=!1===ee.keyName||ee.loadonce&&ee.dataTypeOrg?ee.localReader.id:ee.keyName,ee._index={},ee.dataIndexById={},ee.indexByColumnData=d(),t=0;t<a;t++)i=ee.data[t],void 0===(r=getAccessor(i,e))&&(r=String(randId()),void 0===i[e]&&(i[e]=r)),ee._index[r]=t,le.call(this,i,r)},oe=function(e,t){var r,i,a,l=ee.colModel,o=l.length,n=function(e){return null==e||""===e?"&#160;":htmlEncode(e)},s=function(e){return null==e||""===e?"&#160;":String(e)};for(r=0;r<o;r++)(i=l[r]).cellBuilder=null,e||(a={colModel:i,gid:ee.id,pos:r},void 0===i.formatter?i.cellBuilder=ee.autoencode?n:s:"string"==typeof i.formatter&&null!=$.fn.fmatter&&K($.fn.fmatter.getCellBuilder)?i.cellBuilder=$.fn.fmatter.getCellBuilder.call(D,i.formatter,a,t||"add"):K(i.getCellBuilder)&&(i.cellBuilder=i.getCellBuilder.call(D,a,t||"add")))},T=function(e,t,r,i){var a=this,l=$(a),o=new Date,n=ee.datatype,s="local"!==n&&ee.loadonce||"xmlstring"===n||"jsonstring"===n,d=("xmlstring"===n||"xml"===n)&&$.isXMLDoc(e),c="_id_",u=ee.localReader,g=getAccessor;if(e&&("xml"!==n||d)){switch(-1!==ee.treeANode||ee.scroll?t=1<t?t:1:(ie.emptyRows.call(a,!1,!0),t=1),s&&(clearArray(ee.data),clearArray(ee.lastSelectedData),ee._index={},ee.grouping&&null!=ee.groupingView&&(ee.groupingView.groups=[],ee.groupingView._locgr=!1),ee.localReader.id=c),ee.reccount=0,n){case"xml":case"xmlstring":u=ee.xmlReader,g=jgrid.getXmlData;break;case"json":case"jsonp":case"jsonstring":u=ee.jsonReader}var p,h,f,m,v,b,w,y,C,x,j,D,_,R={},S=ee.colModel,N=S.length,I=ee.arrayReaderInfos,O={},q=function(r){return function(e){var t=null!=e&&K(e.getAttribute)?e.getAttribute(r):null;return null!==t?t:void 0}},E=function(r){return function(){var e,t=O[r];if(null!=t)return 0<(e=t.childNodes).length?e[0].nodeValue:void 0}};ee.page=re(g(e,u.page),ee.page),ee.lastpage=re(g(e,u.total),1),ee.records=re(g(e,u.records)),K(u.userdata)?ee.userData=u.userdata.call(a,e)||{}:d?g(e,u.userdata,!0).each(function(){ee.userData[this.getAttribute("name")]=$(this).text()}):ee.userData=g(e,u.userdata)||{},oe();var A,T,k,G,B={},M=ee.additionalProperties,F=function(e,t){d&&"string"==typeof t&&(/^\w+$/.test(t)?B[e]=E(t):/^\[\w+\]$/.test(t)&&(B[e]=q(t.substring(1,t.length-1))))},P=function(e){var t=e.name,r=d?e.xmlmap||t:("local"===n&&!ee.dataTypeOrg||"jsonstring"===n||"json"===n||"jsonp"===n)&&e.jsonmap||t;!1!==ee.keyName&&!0===e.key&&(ee.keyName=t),("string"==typeof r||K(r))&&(B[t]=r),K(r)||F(t,r)};for(p=0;p<N;p++)P(S[p]);for(N=M.length,p=0;p<N;p++)"object"==typeof(k=M[p])&&null!=k?P(k):F(k,k);if(v=!1===ee.keyName?K(u.id)?u.id.call(a,e):u.id:ee.keyName,isNaN(v)?K(v)||(I[v]&&(b=I[v].order),d&&!1===ee.keyName&&("string"==typeof v&&/^\[\w+\]$/.test(v)?v=q(v.substring(1,v.length-1)):"string"==typeof v&&/^\w+$/.test(v)&&(v=E(v)))):b=Number(v),m=g(e,u.root,!0),u.row)if(1===m.length&&"string"==typeof u.row&&/^\w+$/.test(u.row)){for(G=[],j=(x=m[0].childNodes).length,C=0;C<j;C++)1===(D=x[C]).nodeType&&D.nodeName===u.row&&G.push(D);m=G}else m=g(m,u.row,!0);null==m&&J(e)&&(m=e),m||(m=[]),0<(f=m.length)&&ee.page<=0&&(ee.page=1);var L=parseInt(ee.rowNum,10);i&&(L*=i+1);var z,H,W=[],V=[];for(G=[],p=0;p<f;p++){if(H=m[p],h=u.repeatitems&&u.cell&&g(H,u.cell,!0)||H,A=u.repeatitems&&(d||J(h)),R={},O={},d&&!A&&null!=h)for(j=(x=h.childNodes).length,C=0;C<j;C++)1===(D=x[C]).nodeType&&(O[D.nodeName]=D);for(y in I)I.hasOwnProperty(y)&&(_=I[y],A?(T=h[_.order],d&&null!=T&&(T=T.textContent||T.text)):T=null!=B[y]&&"string"!=typeof B[y]?B[y].call(a,h,{cmName:y,iItem:p}):g(h,"string"==typeof B[y]?B[y]:_.name),1===_.type&&null!=(k=M[_.index])&&K(k.convert)&&(T=k.convert(T,h)),void 0!==T&&(R[y]=T));if(void 0!==R[v]?z=void 0!==R[v]?R[v]:randId():(void 0===(z=g(H,J(H)?b:v))&&(z=g(h,J(h)?b:v)),void 0===z&&(z=randId())),void 0===R[v]&&(R[v]=z),z=String(z),w=ee.idPrefix+z,ee.treeGrid&&ae(R),p<L)V.push(w),W.push(h),G.push(R);else if(!s)break;(s||!0===ee.treeGrid)&&(R[c]=z,ee.data.push(R),le(R,z),ee._index[R[c]]=ee.data.length-1)}if(s&&!0!==ee.treeGrid){if(ee.forceClientSorting)return;ee.lastSelectedData=ee.data.slice()}var U=jgrid.parseDataToHtml.call(a,f,V,G,W,t,i,s);oe(!0);var X=-1<ee.treeANode?ee.treeANode:0,Y=$(a.tBodies[0]);if(!0===ee.treeGrid&&0<X?$(a.rows[X]).after(U.join("")):ee.scroll?Y.append(U.join("")):(null==a.firstElementChild||void 0!==document.documentMode&&document.documentMode<=9?Y.html(Y.html()+U.join("")):a.firstElementChild.innerHTML+=U.join(""),a.grid.cols=a.rows[0].cells),ee.grouping){te.call(a);var Z,Q=function(e){var t=$(this).closest("tr.jqgroup").attr("id");return l.jqGrid("groupingToggle",t,this,e),!1};for(p=0;p<a.rows.length;p++)(Z=$(a.rows[p])).hasClass("jqgroup")&&Z.children("td").children("span.tree-wrap").click(Q)}if(!0===ee.subGrid)try{Ye.addSubGrid.call(l,ee.iColByName.subgrid)}catch(e){}if(!1===ee.gridview||K(ee.afterInsertRow))for(p=0;p<Math.min(f,L);p++)feedback.call(a,"afterInsertRow",V[p],G[p],W[p]);if(ee.totaltime=new Date-o,0<p&&0===ee.records&&(ee.records=f),clearArray(U),!0===ee.treeGrid)try{Ye.setTreeNode.call(l,X+1,p+X+1)}catch(e){}ee.reccount=Math.min(f,L),ee.treeANode=-1,ee.userDataOnFooter&&Ye.footerData.call(l,"set",ee.userData,!0),s&&(ee.records=f,ee.lastpage=Math.ceil(f/L)),r||a.updatepager(!1,!0),function(){var e,t,r=$.fn.fmatter;for(e=0;e<ee.colModel.length;e++)"string"==typeof(t=ee.colModel[e].formatter)&&null!=r&&K(r[t])&&K(r[t].pageFinalization)&&r[t].pageFinalization.call(this,e)}.call(a)}},k=function(e){var t,r=e.outerWidth();return r<=0&&(t=$(this).closest(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='"+I("gBox","ui-jqgrid")+"' style='font-size:"+t+";visibility:hidden;margin:0;padding:0;' ></div>"),$(e).clone().appendTo("#testpg"),r=$("#testpg>.ui-pg-table").width(),$("#testpg").remove()),0<r&&e.parent().width(r),r},G=function(){this.grid.hDiv.loading=!0,ee.hiddengrid||Ye.progressBar.call($(this),{method:"show",loadtype:ee.loadui,htmlcontent:q("loadtext")})},B=function(){this.grid.hDiv.loading=!1,Ye.progressBar.call($(this),{method:"hide",loadtype:ee.loadui})},M=function(i){var a=this,t=$(a),r=a.grid;if(!r.hDiv.loading){var e,l,o=ee.scroll&&!1===i,n={},s=ee.prmNames;ee.page<=0&&(ee.page=Math.min(1,ee.lastpage)),null!==s.search&&(n[s.search]=ee.search),null!==s.nd&&(n[s.nd]=(new Date).getTime()),(isNaN(parseInt(ee.rowNum,10))||parseInt(ee.rowNum,10)<=0)&&(ee.rowNum=ee.maxRowNum),null!==s.rows&&(n[s.rows]=ee.rowNum),null!==s.page&&(n[s.page]=ee.page),null!==s.sort&&(n[s.sort]=ee.sortname),null!==s.order&&(n[s.order]=ee.sortorder),null!==ee.rowTotal&&null!==s.totalrows&&(n[s.totalrows]=ee.rowTotal);var d=K(ee.loadComplete),c=d?ee.loadComplete:null,u=0;if(1<(i=i||1)?null!==s.npage?(n[s.npage]=i,u=i-1,i=1):c=function(e){ee.page++,r.hDiv.loading=!1,d&&ee.loadComplete.call(a,e),M.call(a,i-1)}:null!==s.npage&&delete ee.postData[s.npage],ee.grouping&&Ye.groupingSetup){Ye.groupingSetup.call(t);var g,p,h,f,m=ee.groupingView,v="";for(g=0;g<m.groupField.length;g++){for(p=m.groupField[g],h=0;h<ee.colModel.length;h++)(f=ee.colModel[h]).name===p&&f.index&&(p=f.index);v+=p+" "+m.groupOrder[g]+", "}n[s.sort]=v+n[s.sort]}_(ee.postData,n);var b=ee.scroll?a.rows.length-1:1,w=function(){E.call(a),ee.autowidth||void 0!==ee.widthOrg&&"auto"!==ee.widthOrg&&"100%"!==ee.widthOrg||Ye.setGridWidth.call(t,ee.tblwidth+ee.scrollOffset,!1)},y=function(){var e;if(ee.autoresizeOnLoad)Ye.autoResizeAllColumns.call(t),clearArray(ee.columnsToReResizing),ee.autowidth&&Ye.setGridWidth.call(t,t.closest(".ui-jqgrid").parent().width(),!0);else{for(e=0;e<ee.columnsToReResizing.length;e++)Ye.autoResizeColumn.call(t,ee.columnsToReResizing[e]);clearArray(ee.columnsToReResizing)}},C=function(){feedback.call(a,"loadComplete",l),y(),t.triggerHandler("jqGridAfterLoadComplete",[l]),B.call(a),ee.datatype="local",ee.datastr=null,w()},x=function(e){t.triggerHandler("jqGridLoadComplete",[e]),c&&c.call(a,e),y(),t.triggerHandler("jqGridAfterLoadComplete",[e]),o&&r.populateVisible.call(a),1===i&&B.call(a),w()},j=function(){var e=function(){var e=$(this),n=ee.multiSort?[]:"",t={},s=!1,c={},d=[],u=[],g=O("formatter.date.srcformat"),p=O("formatter.date.newformat");if(!J(ee.data))return{};ee.multiSort&&P(n,t);var h,f,m=!!ee.grouping&&ee.groupingView,r=function(e,t,r){var i,a,l=e.index||e.name,o=e.sorttype||"text";if(c[e.name]={reader:ee.dataTypeOrg?e.name:e.jsonmap||e.name,iCol:t,stype:o,srcfmt:"",newfmt:"",sfunc:e.sortfunc||null,isAddProp:!0===r},"date"!==o&&"datetime"!==o||(e.formatter&&"string"==typeof e.formatter&&"date"===e.formatter?(i=e.formatoptions&&e.formatoptions.srcformat?e.formatoptions.srcformat:g,a=e.formatoptions&&e.formatoptions.newformat?e.formatoptions.newformat:p):i=a=e.datefmt||"Y-m-d",c[e.name].srcfmt=i,c[e.name].newfmt=a),ee.grouping)for(f=0,h=m.groupField.length;f<h;f++)e.name===m.groupField[f]&&(d[f]=c[l],u[f]=l);ee.multiSort||s||e.index!==ee.sortname&&e.name!==ee.sortname||(n=e.name,s=!0)};if(R(ee.colModel,function(e){r(this,e)}),R(ee.additionalProperties,function(e){r("string"==typeof this?{name:this}:this,e,!0)}),ee.treeGrid)return Ye.SortTree.call(e,n,ee.sortorder,null!=c[n]&&c[n].stype?c[n].stype:"text",null!=c[n]&&c[n].srcfmt?c[n].srcfmt:""),!1;var v={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().inSet:e.andNot().inSet},in:function(e){return e.inSet},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},b=jgrid.from.call(this,ee.data);if(ee.ignoreCase&&(b=b.ignoreCase()),!0===ee.search){var i=ee.postData[(ee.searching||{}).sFilter||ee.prmNames.filters];if(i)"string"==typeof i&&(i=$.parseJSON(i)),function e(t){var r,i,a,l,o,n,s,d=0;if(null!=t.groups){for((i=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase())&&b.orBegin(),r=0;r<t.groups.length;r++){0<d&&i&&b.or();try{e(t.groups[r])}catch(e){S(e)}d++}i&&b.orEnd()}if(null!=t.rules)try{for((a=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase())&&b.orBegin(),r=0;r<t.rules.length;r++)o=t.rules[r],l=t.groupOp.toString().toUpperCase(),v[o.op]&&o.field?(0<d&&l&&"OR"===l&&(b=b.or()),null!=(s=c[o.field])&&(n=s.reader,b=v[o.op](b,l)(K(n)?'jQuery.jgrid.getAccessor(this,jQuery("'+ee.idSel+'")[0].p.colModel['+s.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+n+"')",o.data,c[o.field]))):null!=ee.customSortOperations&&null!=ee.customSortOperations[o.op]&&K(ee.customSortOperations[o.op].filter)&&(b=b.custom(o.op,o.field,o.data)),d++;a&&b.orEnd()}catch(e){S(e)}}(i);else try{var a=c[ee.postData.searchField];b=v[ee.postData.searchOper](b)(K(a.reader)?'jQuery.jgrid.getAccessor(this,jQuery("'+ee.idSel+'")[0].p.colModel['+a.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+a.reader+"')",ee.postData.searchString,c[ee.postData.searchField])}catch(e){}}if(ee.grouping)for(f=0;f<h&&f<u.length&&f<d.length;f++)b.orderBy(u[f],m.groupOrder[f],d[f].stype,d[f].srcfmt);ee.multiSort?R(n,function(){b.orderBy(this,t[this],c[this].stype,c[this].srcfmt,c[this].sfunc)}):n&&ee.sortorder&&s&&b.orderBy(ee.sortname,"DESC"===ee.sortorder.toUpperCase()?"d":"a",c[n].stype,c[n].srcfmt,c[n].sfunc),ee.lastSelectedData=b.select();var l=parseInt(ee.rowNum,10),o=ee.lastSelectedData.length,w=parseInt(ee.page,10),y=Math.ceil(o/l),C={};if(ee.grouping&&ee.groupingView._locgr){var x,j,D;if(ee.groupingView.groups=[],ee.footerrow&&ee.userDataOnFooter){for(j in ee.userData)ee.userData.hasOwnProperty(j)&&(ee.userData[j]=0);D=!0}for(x=0;x<o;x++){if(D)for(j in ee.userData)ee.userData.hasOwnProperty(j)&&(ee.userData[j]+=parseFloat(ee.lastSelectedData[x][j]||0));Ye.groupingPrepare.call(e,ee.lastSelectedData[x],x,l)}}c=b=null;var _=ee.localReader;return C[_.total]=y,C[_.page]=w,C[_.records]=o,C[_.root]=ee.lastSelectedData.slice((w-1)*l,w*l),C[_.userdata]=ee.userData,C}.call(a);T.call(a,e,b,1<i,u),x(e)};if(!feedback.call(a,"beforeRequest"))return;if(K(ee.datatype))return void ee.datatype.call(a,ee.postData,"load_"+ee.id,b,i,u);switch(e=ee.datatype.toLowerCase(),$(ie.eDiv).hide(),e){case"json":case"jsonp":case"xml":case"script":$.ajax(_({url:ee.url,type:ee.mtype,dataType:e,data:jgrid.serializeFeedback.call(D,ee.serializeGridData,"jqGridSerializeGridData",ee.postData),success:function(e,t,r){ee.jqXhr=null,$(ie.eDiv).hide(),K(ee.beforeProcessing)&&!1===ee.beforeProcessing.call(a,e,t,r)?B.call(a):(T.call(a,e,b,1<i,u),x(e),(ee.loadonce||ee.treeGrid)&&(ee.dataTypeOrg=ee.datatype,ee.datatype="local",ee.forceClientSorting&&j()))},error:function(e,t,r){ee.jqXhr=null,K(ee.loadError)&&ee.loadError.call(a,e,t,r),1===i&&B.call(a)},beforeSend:function(e,t){var r=!0;if(K(ee.loadBeforeSend)&&(r=ee.loadBeforeSend.call(a,e,t)),void 0===r&&(r=!0),!1===r)return!1;ee.jqXhr=e,G.call(a)}},jgrid.ajaxOptions,ee.ajaxGridOptions));break;case"xmlstring":G.call(a),l="string"==typeof ee.datastr?$.parseXML(ee.datastr):ee.datastr,T.call(a,l),C(),ee.forceClientSorting&&j();break;case"jsonstring":G.call(a),l=ee.datastr&&"string"==typeof ee.datastr?$.parseJSON(ee.datastr):ee.datastr,T.call(a,l),C(),ee.forceClientSorting&&j();break;case"local":case"clientside":G.call(a),ee.datatype="local",j()}}},F=function(e){var t=this.grid;$(ee.cb,t.hDiv).prop("checked",e),ee.frozenColumns&&$(ee.cb,t.fhDiv).prop("checked",e)},j=function(e,d){var t,r,i,a,l,o,n,s,c,u=I("states.hover"),g=I("states.disabled"),p="<td class='ui-pg-button "+g+"'><span class='ui-separator'></span></td>",h="",f="<table style='table-layout:auto;white-space: pre;"+("left"===ee.pagerpos?"margin-right:auto;":"right"===ee.pagerpos?"margin-left:auto;":"margin-left:auto;margin-right:auto;")+"' class='ui-pg-table'><tbody><tr>",m="",v=function(e,t,r){return!!feedback.call(D,"onPaging",e,{newPage:t,currentPage:re(ee.page,1),lastPage:re(ee.lastpage,1),currentRowNum:re(ee.rowNum,10),newRowNum:r})&&(ee.selrow=null,ee.multiselect&&(ee.multiPageSelection||clearArray(ee.selarrrow),F.call(D,!1)),clearArray(ee.savedRow),ee.editingInfo={},!0)};if(d+="_"+e,t="pg_"+e,r=e+"_left",i=e+"_center",a=e+"_right",$("#"+jqID(e)).append("<div id='"+t+"' class='ui-pager-control' role='group'><table class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;'><tbody><tr><td id='"+r+"' class='ui-jqgrid-pg-left'"+(void 0!==ee.pagerLeftWidth?" style='width:"+ee.pagerLeftWidth+"px;'":"")+"></td><td id='"+i+"' class='ui-jqgrid-pg-center'"+(void 0!==ee.pagerCenterWidth?" style='width:"+ee.pagerCenterWidth+"px;'":"")+"></td><td id='"+a+"' class='ui-jqgrid-pg-right'"+(void 0!==ee.pagerRightWidth?" style='width:"+ee.pagerRightWidth+"px;'":"")+"></td></tr></tbody></table></div>").attr("dir","ltr"),t="#"+jqID(t),0<ee.rowList.length){m="<td dir='"+A+"'>";var b,w=q("pgrecs");for(m+="<select class='"+I("pager.pagerSelect","ui-pg-selbox")+"' "+(w?"title='"+w+"'":"")+">",o=0;o<ee.rowList.length;o++)1===(b=ee.rowList[o].toString().split(":")).length&&(b[1]=b[0]),m+="<option value='"+b[0]+"'"+(re(ee.rowNum,0)===re(b[0],0)?" selected='selected'":"")+">"+b[1]+"</option>";m+="</select></td>"}if("rtl"===A&&(f+=m),!0===ee.pginput&&(h="<td dir='"+A+"'>"+jgrid.format(q("pgtext")||"","<input aria-label='Page No.' class='"+I("pager.pagerInput","ui-pg-input")+"' type='text' size='2' maxlength='7' value='0'/>","<span id='sp_1_"+e+"'>0</span>")+"</td>"),e="#"+jqID(e),!0===ee.pgbuttons){var y=["first","prev","next","last"],C=y.slice(),x=I("pager.pagerButton","ui-pg-button");for("rtl"===A&&y.reverse(),o=0;o<y.length;o++)f+=(n=y[o],s=C[o],void 0,c=q("pg"+n),"<td role='button' tabindex='0' id='"+n+d+"' class='"+x+"' "+(c?"title='"+c+"'":"")+"><span class='"+N("pager."+s)+"'></span></td>"),1===o&&(f+=""!==h?p+h+p:"")}else""!==h&&(f+=h);"ltr"===A&&(f+=m),f+="</tr></tbody></table>",!0===ee.viewrecords&&$("td"+e+"_"+ee.recordpos,t).append("<span dir='"+A+"' style='text-align:"+ee.recordpos+"' class='ui-paging-info'></span>");var j=$("td"+e+"_"+ee.pagerpos,t);j.append(f),l=k.call(this,j.children(".ui-pg-table")),ee._nvtd=[],ee._nvtd[0]=l?Math.floor((ee.width-l)/2):Math.floor(ee.width/3),ee._nvtd[1]=0,f=null,$(".ui-pg-selbox",t).on("change",function(){var e=re(this.value,10),t=Math.round(ee.rowNum*(ee.page-1)/e-.5)+1;return v("records",t,e)&&(ee.page=t,ee.rowNum=e,ee.pager&&$(".ui-pg-selbox",ee.pager).val(e),ee.toppager&&$(".ui-pg-selbox",ee.toppager).val(e),M.call(D)),!1}),!0===ee.pgbuttons&&($(".ui-pg-button",t).hover(function(){hasOneFromClasses(this,g)?this.style.cursor="default":($(this).addClass(u),this.style.cursor="pointer")},function(){hasOneFromClasses(this,g)||($(this).removeClass(u),this.style.cursor="default")}),$("#first"+jqID(d)+", #prev"+jqID(d)+", #next"+jqID(d)+", #last"+jqID(d)).click(function(){if(hasOneFromClasses(this,g))return!1;var e=re(ee.page,1),t=e,r=this.id,i=re(ee.lastpage,1),a=!1,l=!0,o=!0,n=!0,s=!0;return 0===i||1===i?(e<=1&&(o=l=!1),s=n=!1):1<i&&1<=e?1===e?o=l=!1:e===i&&(s=n=!1):1<i&&0===e&&(s=n=!1,e=i-1),this.id==="first"+d&&l&&(r="first",t=1,a=!0),this.id==="prev"+d&&o&&(r="prev",t=e-1,a=!0),this.id==="next"+d&&n&&(r="next",t=e+1,a=!0),this.id==="last"+d&&s&&(r="last",t=i,a=!0),v(r,t,re(ee.rowNum,10))&&(ee.page=t,a&&M.call(D)),!1})),!0===ee.pginput&&$("input.ui-pg-input",t).on("keypress.jqGrid",function(e){var t=e.charCode||e.keyCode||0,r=re($(this).val(),1);return 13===t?(v("user",r,re(ee.rowNum,10))&&($(this).val(r),ee.page=0<$(this).val()?$(this).val():ee.page,M.call(D)),!1):this}),j.children(".ui-pg-table").on("keydown.jqGrid",function(e){var t;13===e.which&&0<(t=j.find(":focus")).length&&t.trigger("click")})},P=function(r,i,e){if(R((ee.sortname+" "+ee.sortorder).split(","),function(){var e=$.trim(this).split(" ");2===e.length&&r.push(e[0])}),null!=e){var t=$.inArray(e.index||e.name,r);""!==e.lso&&t<0?r.push(e.index||e.name):""===e.lso&&0<=t&&r.splice(t,1)}R(ee.colModel,function(){var e,t=this.index||this.name;this.lso&&(e=this.lso.split("-"),$.inArray(t,r)<0&&r.push(t),i[t]=e[e.length-1])})},L=function(e,t,r,i,a,l){var o=this,n=o.grid,s=ee.colModel[t],d=I("states.disabled");if(null!=s&&s.sortable&&!(0<ee.savedRow.length)){if(ee.lastsort===t&&""!==ee.sortname?"asc"===ee.sortorder?ee.sortorder="desc":"desc"===ee.sortorder?ee.sortorder="asc":ee.sortorder=s.firstsortorder||"asc":ee.sortorder=s.firstsortorder||"asc",s.lso?"asc"===s.lso?s.lso+="-desc":"desc"===s.lso?s.lso+="-asc":"asc-desc"!==s.lso&&"desc-asc"!==s.lso||!ee.threeStateSort&&!ee.multiSort||(s.lso=""):s.lso=s.firstsortorder||"asc",!r&&ee.resetPageAfterSort&&(ee.page=1),ee.multiSort)!function(e,t){var r,i="",a=ee.colModel[e],l=I("states.disabled"),o=ee.frozenColumns?$(D.grid.headers[e].el).add($(t)):$(D.grid.headers[e].el),n=o.find("span.s-ico"),s=n.children("span.ui-icon-asc"),d=n.children("span.ui-icon-desc"),c=s,u=d,g=[],p={};if(o.find("span.ui-grid-ico-sort").addClass(l),o.attr("aria-selected","false"),a.lso?(n.show(),"desc"===(r=(r=a.lso.split("-"))[r.length-1])&&(c=d,u=s),c.removeClass(l).css("display",""),ee.showOneSortIcon&&u.hide(),o.attr("aria-selected","true")):ee.viewsortcols[0]||n.hide(),P(g,p,a),"string"==typeof ee.sortname&&""!==ee.sortname&&ee.sortname.split(",").length<g.length){var h=function(i){R(ee.colModel,function(){var e,t="#jqgh_"+jgrid.jqID(ee.id+"_"+this.name),r=$(t);if(this.lso&&(this.index||this.name)===i){if("function"==typeof g.indexOf)e=g.indexOf(i);else{for(e=0;e<g.length&&g[e]!==i;e++);e===g.length&&(e=-1)}0<=e&&(g.splice(e,1),this.lso="")}ee.frozenColumns&&(r=r.add($(ie.fhDiv).find(t))),r.children(".s-ico")[this.lso?"show":"hide"]()})};if("lastClickedFirstSorted"===ee.multiSortOrder&&1<g.length)for(g.unshift(g[g.length-1]),g.pop();g.length>ee.maxSortColumns;)h(g[g.length-1]);else K(ee.multiSortOrder)&&(g=ee.multiSortOrder.call(D,{sortNames:g,cm:a,sortDirs:p,removeSorting:h})||g)}R(g,function(){0<i.length&&(i+=", "),i+=this+" "+p[this],ee.sortorder=p[this]}),ee.sortname=i.substring(0,i.length-ee.sortorder.length-1),ee.showSortOrder&&R(ee.colModel,function(){if(this.sortable){var e=b(this.name,g),t="#jqgh_"+jgrid.jqID(ee.id+"_"+this.name),r=$(t);ee.frozenColumns&&(r=r.add($(ie.fhDiv).find(t))),r.children(".ui-jqgrid-sort-order").html(e<0?"&nbsp;":K(ee.formatSortOrder)?ee.formatSortOrder.call(D,{cm:this,sortIndex:e}):e+1)}})}(t,a);else{if(i){if(ee.lastsort===t&&ee.sortorder===i&&!r)return;ee.sortorder=i}var c=n.headers,u=n.fhDiv,g=c[ee.lastsort]?$(c[ee.lastsort].el):$(),p=ee.frozenColumns?$(a):$(c[t].el),h=p.find("span.s-ico"),f=h.children("span.ui-icon-"+ee.sortorder),m=h.children("span.ui-icon-"+("asc"===ee.sortorder?"desc":"asc"));s=ee.colModel[ee.lastsort],g.find("span.ui-grid-ico-sort").addClass(d),g.attr("aria-selected","false"),ee.frozenColumns&&(u.find("span.ui-grid-ico-sort").addClass(d),u.find("th").attr("aria-selected","false")),ee.viewsortcols[0]||(ee.lastsort!==t?(ee.frozenColumns&&u.find("span.s-ico").hide(),g.find("span.s-ico").hide(),h.show()):""===ee.sortname&&h.show()),ee.lastsort!==t&&"true"===g.data("autoResized")&&(null!=s&&null!=s.autoResizing&&s.autoResizing.compact||ee.autoResizing.compact)&&ee.columnsToReResizing.push(ee.lastsort),s=ee.colModel[t],h.css("display",""),""!==s.lso?(f.removeClass(d).css("display",""),ee.showOneSortIcon&&m.removeClass(d).hide(),p.attr("aria-selected","true")):(p.attr("aria-selected","false"),ee.threeStateSort&&(ee.sortorder="",ee.viewsortcols[0]||h.hide())),ee.lastsort!==t&&"true"===p.data("autoResized")&&(null!=s&&null!=s.autoResizing&&s.autoResizing.compact||ee.autoResizing.compact)&&ee.columnsToReResizing.push(t),ee.sortname=s.index||e}if(feedback.call(o,"onSortCol",ee.sortname,t,ee.sortorder,l||{})){if("local"===ee.datatype?ee.deselectAfterSort&&!ee.multiPageSelection&&Ye.resetSelection.call($(o)):ee.multiPageSelection||(ee.selrow=null,ee.multiselect&&(F.call(o,!1),clearArray(ee.selarrrow))),clearArray(ee.savedRow),ee.editingInfo={},ee.scroll){var v=n.bDiv.scrollLeft;ie.emptyRows.call(o,!0,!1),n.hDiv.scrollLeft=v}ee.subGrid&&"local"===ee.datatype&&$("td.sgexpanded","#"+jqID(ee.id)).each(function(){$(this).trigger("click")}),M.call(o),ee.lastsort=t,ee.sortname!==e&&t&&(ee.lastsort=t)}else ee.lastsort=t}},z=function(e){return ee.iColByName[(e.id||"").substring(ee.id.length+1)]};-1===b(ee.multikey,["shiftKey","altKey","ctrlKey"])&&(ee.multikey=!1),ee.keyName=!1,ee.sortorder=ee.sortorder.toLowerCase(),jgrid.cell_width=jgrid.cellWidth();var H,W,V=jgrid.cmTemplate;for(H=0;H<ee.colModel.length;H++)v="string"==typeof(W=ee.colModel[H]).template?null==V||"object"!=typeof V[W.template]&&!K(V[W.template])?{}:V[W.template]:W.template,K(v)&&(v=v.call(D,{cm:W,iCol:H})),W=_(!0,{},ee.cmTemplate,v||{},W),!1===ee.keyName&&!0===W.key&&(ee.keyName=W.name),ee.colModel[H]=W;for(ee.indexByColumnData=d(),H=0;H<ee.additionalProperties.length;H++)W=ee.additionalProperties[H],!1===ee.keyName&&!0===W.key&&(ee.keyName=W.name);if(0===ee.colNames.length)for(H=0;H<ee.colModel.length;H++)ee.colNames[H]=void 0!==ee.colModel[H].label?ee.colModel[H].label:ee.colModel[H].name;if(ee.colNames.length===ee.colModel.length){if(!0===ee.grouping&&(ee.scroll=!1,ee.rownumbers=!1,ee.treeGrid=!1,ee.gridview=!0),ee.subGrid&&K(Ye.setSubGrid))try{Ye.setSubGrid.call(h)}catch(e){}if(ee.multiselect&&("left"===ee.multiselectPosition||"right"===ee.multiselectPosition)){var U="left"===ee.multiselectPosition?"unshift":"push";ee.colNames[U]("<input id='"+ee.cbId+"' class='cbox' type='checkbox' aria-checked='false'/>"),ee.colModel[U]({name:"cb",width:jgrid.cell_width?ee.multiselectWidth+ee.cellLayout:ee.multiselectWidth,labelClasses:"jqgh_cbox",classes:"td_cbox",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})}if(ee.rownumbers&&(ee.colNames.unshift(""),ee.colModel.unshift({name:"rn",width:jgrid.cell_width?ee.rownumWidth+ee.cellLayout:ee.rownumWidth,labelClasses:"jqgh_rn",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),ee.iColByName=s(ee.colModel),ee.xmlReader=_(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},ee.xmlReader),ee.jsonReader=_(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},ee.jsonReader),ee.localReader=_(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},ee.localReader),ee.scroll&&(ee.pgbuttons=!1,ee.pginput=!1,ee.rowList=[]),!0===ee.treeGrid){try{Ye.setTreeGrid.call(h)}catch(e){}"local"!==ee.datatype&&(ee.localReader={id:"_id_"}),ee.iPropByName=c(ee.additionalProperties)}if(function(){var e,t,r,i=ee.remapColumns,a=ee.colModel,l=a.length,o=[];for(e=0;e<l;e++)r=a[e].name,b(r,ee.reservedColumnNames)<0&&o.push(r);if(null!=i)for(t=o.slice(),e=0;e<i.length;e++)o[e]=t[i[e]];ee.cmNamesInputOrder=o}(),function(){var e,t,r,i,a,l=ee.colModel,o=ee.cmNamesInputOrder,n=ee.additionalProperties,s=o.length;for(ee.arrayReaderInfos={},t=ee.arrayReaderInfos,a=0;a<s;a++)r=o[a],b(r,ee.reservedColumnNames)<0&&!t.hasOwnProperty(r)&&(void 0!==(i=ee.iColByName[r])?t[r]={name:r,index:i,order:a,type:0}:void 0!==(i=ee.iPropByName[r])?t[r]={name:r,index:i,order:a,type:1}:r===(ee.prmNames.rowidName||"rowid")&&(t[r]={index:i,type:2}));for(s=l.length,e=0;e<s;e++)r=l[e].name,b(r,ee.reservedColumnNames)<0&&!t.hasOwnProperty(r)&&(t[r]={name:r,index:e,order:a,type:0},a++);for(s=n.length,e=0;e<s;e++)null==(r=n[e])||t.hasOwnProperty(r)||("object"==typeof r&&"string"===$.type(r.name)&&(r=r.name),t[r]={name:r,index:e,order:a,type:1},a++)}(),ee.data.length&&(C.call(D),x.call(D)),!0===ee.shrinkToFit&&!0===ee.forceFit)for(H=ee.colModel.length-1;0<=H;H--)if(!0!==ee.colModel[H].hidden){ee.colModel[H].resizable=!1;break}var X,Y,Z,Q,ne,se,de,ce,ue,ge=[],pe=[],he=[],fe="<thead><tr class='ui-jqgrid-labels' role='row'>",me="<tbody><tr style='display:none;'>",ve=I("states.hover"),be=I("states.hoverTh")||ve,we=I("states.disabled");if(ee.multiSort)for(ge=ee.sortname.split(","),ue=0;ue<ge.length;ue++)he=r(ge[ue]).split(" "),ge[ue]=r(he[0]),pe[ue]=he[1]?r(he[1]):ee.sortorder||"asc";for(H=0;H<ee.colNames.length;H++){switch(W=ee.colModel[H],ne=ee.headertitles||W.headerTitle?" title='"+stripHtml("string"==typeof W.headerTitle?W.headerTitle:ee.colNames[H])+"'":"",fe+="<th id='"+ee.id+"_"+W.name+"' class='"+I("colHeaders","ui-th-column ui-th-"+A+" "+(W.labelClasses||""))+"'"+ne+">",X=W.index||W.name,W.labelAlign){case"left":se="text-align:left;";break;case"right":se="text-align:right;";break;case"likeData":se=void 0===W.align||"left"===W.align?"text-align:left;":"right"===W.align?"text-align:right;":"";break;default:se=""}fe+="<div id='jqgh_"+ee.id+"_"+W.name+"'"+(p?" class='ui-th-div-ie'":"")+(""===se?"":" style='"+se+"'")+" role='columnheader'>",ce=W.autoResizable&&"actions"!==W.formatter||W.rotated?"<span class='"+ee.autoResizing.wrapperClassName+"'>"+ee.colNames[H]+"</span>":ee.colNames[H],ee.sortIconsBeforeText?(fe+=(ee.builderSortIcons||jgrid.builderSortIcons).call(D,H),fe+=ce):(fe+=ce,fe+=(ee.builderSortIcons||jgrid.builderSortIcons).call(D,H)),fe+="</div></th>",me+="<td></td>",W.width=W.width?parseInt(W.width,10):150,"boolean"!=typeof W.title&&(W.title=!0),W.lso="",X===ee.sortname&&(ee.lastsort=H,W.lso=ee.sortorder||W.firstsortorder||"asc"),ee.multiSort&&-1!==(he=b(X,ge))&&(W.lso=pe[he])}fe+="</tr></thead>",me+="</tr></tbody>";var ye,Ce,xe,$e,je,De,_e,Re,Se,Ne,Ie,Oe=$("<table class='"+I("hTable","ui-jqgrid-htable")+"' style='width:1px' role='presentation' aria-labelledby='gbox_"+ee.id+"'>"+fe+me+"</table>");if($(Oe[0].tHead).children("tr").children("th").hover(function(){$(this).addClass(be)},function(){$(this).removeClass(be)}),ee.multiselect&&$(ee.cb,Oe).on("click",function(){var t,e,r,i=I("states.select"),a=[],l=ee.iColByName.cb,o=function(e,t){$(e)[t?"addClass":"removeClass"](i).attr(t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"}),void 0!==l&&$(e.cells[l]).children("input.cbox").prop("checked",t)},n=ie.fbRows,s=we+" ui-subgrid jqgroup jqfoot jqgfirstrow jqgskipselect",d=ee._index;if(clearArray(ee.selarrrow),this.checked){if(t=!0,ee.selrow=1<D.rows.length?D.rows[D.rows.length-1].id:null,ee.multiPageSelection&&("local"===ee.datatype||ee.treeGrid))if("filtered"===ee.selectAllMode&&null!=ee.lastSelectedData&&0<ee.lastSelectedData.length)for(ee.selarrrow=[],r=0;r<ee.lastSelectedData.length;r++)ee.lastSelectedData[r].hasOwnProperty(ee.localReader.id)&&ee.selarrrow.push(ee.idPrefix+ee.lastSelectedData[r][ee.localReader.id]);else if(null!=ee.data&&0<ee.data.length&&null!=d)for(e in d)d.hasOwnProperty(e)&&ee.selarrrow.push(ee.idPrefix+e)}else t=!1,ee.selrow=null;var c=t?ee.selarrrow:a;$(D.rows).each(function(e){hasOneFromClasses(this,s)||(o(this,t),$.inArray(this.id,c)<0&&c.push(this.id),n&&o(n[e],t))}),feedback.call(D,"onSelectAll",t?ee.selarrrow:a,t)}),!0===ee.autowidth){var qe=Math.floor($(m).innerWidth());ee.width=0<qe?qe:"nw"}isNaN(ee.width)?isNaN(parseFloat(ee.width))||(ee.width=parseFloat(ee.width)):ee.width=Number(ee.width),ee.widthOrg=ee.width,je=0,De=jgrid.cell_width?0:re(ee.cellLayout,0),_e=0,Re=re(ee.scrollOffset,0),Se=!1,Ne=0,Ie=jgrid.isCellClassHidden,R(ee.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),ee.grouping&&ee.autowidth){var e=b(this.name,ee.groupingView.groupField);0<=e&&ee.groupingView.groupColumnShow.length>e&&(this.hidden=!ee.groupingView.groupColumnShow[e])}this.widthOrg=Ce=re(this.width,0),!1!==this.hidden||Ie(this.classes)||(je+=Ce+De,this.fixed?Ne+=Ce+De:_e++)}),isNaN(ee.width)&&(ee.width=je+(!1!==ee.shrinkToFit||isNaN(ee.height)?0:Re)),ie.width=ee.width,ee.tblwidth=je,!1===ee.shrinkToFit&&!0===ee.forceFit&&(ee.forceFit=!1),!0===ee.shrinkToFit&&0<_e&&(xe=ie.width-De*_e-Ne,isNaN(ee.height)||(xe-=Re,Se=!0),je=0,R(ee.colModel,function(e){!1!==this.hidden||Ie(this.classes)||this.fixed||(Ce=Math.round(xe*this.width/(ee.tblwidth-De*_e-Ne)),this.width=Ce,je+=Ce,ye=e)}),$e=0,Se?ie.width-Ne-(je+De*_e)!==Re&&($e=ie.width-Ne-(je+De*_e)-Re):Se||1===Math.abs(ie.width-Ne-(je+De*_e))||($e=ie.width-Ne-(je+De*_e)),ee.colModel[ye].width+=$e,ee.tblwidth=je+$e+De*_e+Ne,ee.tblwidth>ee.width&&(ee.colModel[ye].width-=ee.tblwidth-parseInt(ee.width,10),ee.tblwidth=ee.width)),$(m).css("width",ie.width+"px").append("<div class='"+I("resizer","ui-jqgrid-resize-mark")+"' id='"+ee.rsId+"'>&#160;</div>"),$(ee.rs).on("selectstart",function(){return!1}).click(u).dblclick(function(e){var t=$(this).data("idx"),r=$(this).data("pageX"),i=ee.colModel[t];if(null==r||null==i)return!1;var a=String(r).split(";"),l=parseFloat(a[0]),o=parseFloat(a[1]);return 2===a.length&&(5<Math.abs(l-o)||5<Math.abs(e.pageX-l)||5<Math.abs(e.pageX-o))||(feedback.call(D,"resizeDblClick",t,i,e)&&i.autoResizable&&Ye.autoResizeColumn.call(h,t),feedback.call(D,"afterResizeDblClick",{iCol:t,cm:i,cmName:i.name})),!1}),$(g).css("width",ie.width+"px");var Ee="";ee.footerrow&&(Ee+="<table role='presentation' style='width:1px' class='"+I("gridFooter","ui-jqgrid-ftable")+"'><tbody><tr role='row' class='"+I("rowFooter","footrow footrow-"+A)+"'>");var Ae="<tr class='"+I("gridRow","jqgfirstrow ui-row-"+ee.direction)+"' role='row' style='height:auto'>";if(ee.disableClick=!1,$("th",Oe[0].tHead.rows[0]).each(function(e){var t=ee.colModel[e],r=t.name,i=$(this),a=i.children("div"),l=a.children("span.s-ico"),o=ee.showOneSortIcon;Y=t.width,void 0===t.resizable&&(t.resizable=!0),t.resizable?(Z=document.createElement("span"),$(Z).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+A).on("selectstart",function(){return!1}),i.addClass(ee.resizeclass)):Z="",i.css("width",Y+"px").prepend(Z);var n="";if(!(Z=null)===t.hidden&&(i.css("display","none"),n="display:none;"),Ae+="<td role='gridcell' "+(t.classes?"class='"+t.classes+"' ":"")+"style='height:0;width:"+Y+"px;"+n+"'></td>",ie.headers[e]={width:Y,el:this},"boolean"!=typeof(Q=t.sortable)&&(t.sortable=!0,Q=!0),"cb"!==r&&"subgrid"!==r&&"rn"!==r&&Q&&ee.viewsortcols[2]&&a.addClass("ui-jqgrid-sortable"),Q)if(ee.multiSort){var s="desc"===t.lso?"asc":"desc";ee.viewsortcols[0]?(l.css("display",""),t.lso&&(l.children("span.ui-icon-"+t.lso).removeClass(we),o&&l.children("span.ui-icon-"+s).hide())):t.lso&&(l.css("display",""),l.children("span.ui-icon-"+t.lso).removeClass(we),o&&l.children("span.ui-icon-"+s).hide()),ee.showSortOrder&&(he=b(r,ge),l["beforeSortIcons"===ee.sortOrderPosition?"before":"after"]("<span class='ui-jqgrid-sort-order'>"+(he<0?"&nbsp;":K(ee.formatSortOrder)?ee.formatSortOrder.call(D,{cm:this,sortIndex:he}):he+1)+"</span>"))}else{var d="desc"===ee.sortorder?"asc":"desc";ee.viewsortcols[0]?(l.css("display",""),e===ee.lastsort&&(l.children("span.ui-icon-"+ee.sortorder).removeClass(we),o&&l.children("span.ui-icon-"+d).hide())):e===ee.lastsort&&""!==t.lso&&(l.css("display",""),l.children("span.ui-icon-"+ee.sortorder).removeClass(we),o&&l.children("span.ui-icon-"+d).hide())}ee.footerrow&&(Ee+="<td role='gridcell' "+w(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){var t,r,i=$(this),a=i.closest(".ui-jqgrid-hdiv").hasClass("frozen-div");if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length)return null!=(t=z(this))&&(!0===ee.forceFit&&(ee.nv=function(e){var t,r=e,i=e;for(t=e+1;t<ee.colModel.length;t++)if(!0!==ee.colModel[t].hidden){i=t;break}return i-r}(t)),ie.dragStart(t,e,(r=[i.position().left+i.outerWidth()],"rtl"===ee.direction&&(r[0]=ee.width-r[0]),r[0]-=a?0:ie.bDiv.scrollLeft,r.push($(ie.hDiv).position().top),r.push($(ie.bDiv).offset().top-$(ie.hDiv).offset().top+$(ie.bDiv).height()+(ie.sDiv?$(ie.sDiv).height():0)),r),i)),!1}).click(function(e){if(ee.disableClick)return ee.disableClick=!1;var t,r,i="th.ui-th-column>div";ee.viewsortcols[2]?i+=".ui-jqgrid-sortable":i+=">span.s-ico>span.ui-grid-ico-sort";var a=$(e.target).closest(i);if(1===a.length){ee.viewsortcols[2]||(t=!0,r=a.hasClass("ui-icon-desc")?"asc":"desc");var l=z(this);return null!=l&&L.call(D,$("div",this)[0].id.substring(5+ee.id.length+1),l,t,r,this,e),!1}}),ee.sortable&&K(Ye.sortableColumns))try{Ye.sortableColumns.call(h,$(Oe[0].tHead.rows[0]))}catch(e){}ee.footerrow&&(Ee+="</tr></tbody></table>"),Ae+="</tr>",h.html("<tbody>"+Ae+"</tbody>"),h.addClass(I("grid","ui-jqgrid-btable"+(!0===ee.altRows&&h.jqGrid("isBootstrapGuiStyle")?" table-striped":"")));var Te,ke,Ge=!(!ee.caption||!0!==ee.hiddengrid),Be=$("<div class='ui-jqgrid-hbox"+("rtl"===A?"-rtl":"")+"'></div>"),Me=I("top"),Fe=I("bottom");if(ie.hDiv=document.createElement("div"),$(ie.hDiv).css({width:ie.width+"px"}).addClass(I("hDiv","ui-jqgrid-hdiv")).append(Be).scroll(function(){var e=$(this).next(".ui-jqgrid-bdiv")[0];return e&&(e.scrollLeft=this.scrollLeft),!1}),$(Be).append(Oe),Oe=null,Ge&&$(ie.hDiv).hide(),ee.rowNum=parseInt(ee.rowNum,10),(isNaN(ee.rowNum)||ee.rowNum<=0)&&(ee.rowNum=ee.maxRowNum),ee.pager)"string"==typeof ee.pager&&"#"!==ee.pager.substr(0,1)?(ke=ee.pager,Te=$("#"+jqID(ee.pager))):!0===ee.pager?(ke=randId(),(Te=$("<div id='"+ke+"'></div>")).appendTo("body"),ee.pager="#"+jqID(ke)):ke=(Te=$(ee.pager)).attr("id"),0<Te.length?(Te.css({width:ie.width+"px"}).addClass(I("pager.pager","ui-jqgrid-pager "+Fe)).appendTo(m),Ge&&Te.hide(),j.call(D,ke,""),ee.pager="#"+jqID(ke)):ee.pager="";!1===ee.cellEdit&&!0===ee.hoverrows&&h.on("mouseover.jqGrid",function(e){de=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(de).attr("class")&&$(de).addClass(ve)}).on("mouseout.jqGrid",function(e){de=$(e.target).closest("tr.jqgrow"),$(de).removeClass(ve)});var Pe=function(e){var t,r,i;do{if(0<(t=$(e).closest("td")).length){if(i=(r=t.parent()).parent().parent(),r.is(".jqgrow")&&(i[0]===this||i.is("table.ui-jqgrid-btable")&&(i[0].id||"").replace("_frozen","")===this.id))break;e=t.parent()}}while(0<t.length);return t};h.before(ie.hDiv).click(function(e){var i=I("states.select"),t=e.target,r=Pe.call(D,t),a=r.parent();if(0!==a.length&&!hasOneFromClasses(a,we)){var l=a[0].id,o=r[0].cellIndex,n=$(t).hasClass("cbox")&&$(t).is(":enabled")&&!hasOneFromClasses(t,we),s=feedback.call(D,"beforeSelectRow",l,e),d=!1,c=jgrid.detectRowEditing.call(D,l),u=null!=c&&"cellEditing"!==c.mode;if("A"!==t.tagName&&(!u||n)){if(feedback.call(D,"onCellSelect",l,o,r.html(),e),!0===ee.cellEdit){if(s&&ee.multiselect&&n){if(f.call(h,l,!0,e),n&&!ee.noCellSelection)return;d=!0}try{Ye.editCell.call(h,a[0].rowIndex,o,!0)}catch(e){}if(!ee.multiselect||!ee.noCellSelection||ee.multiboxonly&&d)return}if(s)if(ee.multikey)e[ee.multikey]&&!d?f.call(h,l,!0,e):ee.multiselect&&n&&(n=$("#jqg_"+jqID(ee.id)+"_"+l).is(":checked"),$("#jqg_"+jqID(ee.id)+"_"+l).prop("checked",!n));else if(ee.multiselect&&ee.multiboxonly)if(n&&!d)f.call(h,l,!0,e);else{var g=ee.frozenColumns?ee.id+"_frozen":"";$(ee.selarrrow).each(function(e,t){var r=Ye.getGridRowById.call(h,t);r&&$(r).removeClass(i),$("#jqg_"+jqID(ee.id)+"_"+jqID(t)).prop("checked",!1),g&&($("#"+jqID(t),"#"+jqID(g)).removeClass(i),$("#jqg_"+jqID(ee.id)+"_"+jqID(t),"#"+jqID(g)).prop("checked",!1))}),clearArray(ee.selarrrow),d||f.call(h,l,!0,e)}else{var p=ee.selrow;d||f.call(h,l,!0,e),"toggle"!==ee.singleSelectClickMode||ee.multiselect||p!==l||(D.grid.fbRows&&(a=a.add(D.grid.fbRows[a[0].rowIndex]===a[0]?D.rows[a[0].rowIndex]:D.grid.fbRows[a[0].rowIndex])),a.removeClass(i).attr({"aria-selected":"false",tabindex:"-1"}),ee.selrow=null)}else n&&$(t).prop("checked",!1)}}}).on("reloadGrid",function(e,t){var r=this,i=r.grid,a=$(this),l=r.p;if(!0===l.treeGrid&&(l.datatype=l.treedatatype),t=_({},defaults.reloadGridOptions||{},l.reloadGridOptions||{},t||{}),"local"===l.datatype&&l.dataTypeOrg&&l.loadonce&&t.fromServer&&(l.datatype=l.dataTypeOrg,delete l.dataTypeOrg),t.current&&i.selectionPreserver.call(r),"local"===l.datatype?(l.multiPageSelection||Ye.resetSelection.call(a),l.data.length&&(C.call(r),x.call(r))):l.treeGrid||l.multiPageSelection||(l.selrow=null,l.multiselect&&(clearArray(l.selarrrow),F.call(r,!1)),clearArray(l.savedRow),l.editingInfo={}),l.iRow=-1,l.iCol=-1,l.scroll&&ie.emptyRows.call(r,!0,!1),t.page){var o=parseInt(t.page,10);o>l.lastpage&&(o=l.lastpage),o<1&&(o=1),l.page=o,i.prevRowHeight?i.bDiv.scrollTop=(o-1)*i.prevRowHeight*l.rowNum:i.bDiv.scrollTop=0}return i.prevRowHeight&&l.scroll&&void 0===t.page?(delete l.lastpage,i.populateVisible.call(r)):i.populate.call(r),!0===l._inlinenav&&a.jqGrid("showAddEditButtons",!1),!1}).dblclick(function(e){var t=Pe.call(D,e.target),r=t.parent();if(0<t.length&&!feedback.call(D,"ondblClickRow",r.attr("id"),r[0].rowIndex,t[0].cellIndex,e))return!1}).on("contextmenu",function(e){var t=Pe.call(D,e.target),r=t.parent(),i=r.attr("id");if(0!==t.length)return ee.multiselect||ee.selrow===i||!0!==ee.selectOnContextMenu||f.call(h,i,!0,e),!!feedback.call(D,"onRightClickRow",i,r[0].rowIndex,t[0].cellIndex,e)&&void 0}),ie.bDiv=document.createElement("div"),p&&"auto"===String(ee.height).toLowerCase()&&(ee.height="100%"),$(ie.bDiv).append($("<div style='position:relative;'></div>").append("<div></div>").append(D)).addClass("ui-jqgrid-bdiv").css({height:ee.height+(isNaN(ee.height)?"":"px"),width:ie.width+"px"}).scroll(ie.scrollGrid),ee.maxHeight&&$(ie.bDiv).css("max-height",ee.maxHeight+(isNaN(ee.maxHeight)?"":"px")),h.css({width:"1px"}),$.support.tbody||2===$(">tbody",D).length&&$(">tbody:gt(0)",D).remove(),ee.multikey&&$(ie.bDiv).on(jgrid.msie?"selectstart":"mousedown",function(){return!1}),Ge&&$(ie.bDiv).hide(),ie.cDiv=document.createElement("div");var Le=N("gridMinimize.visible"),ze=N("gridMinimize.hidden"),He=q("showhide"),We=!0===ee.hidegrid?$("<a role='link' class='"+I("titleButton","ui-jqgrid-titlebar-close")+"'"+(He?" title='"+He+"'":"")+"/>").hover(function(){We.addClass(ve)},function(){We.removeClass(ve)}).append("<span class='"+Le+"'></span>"):"";if($(ie.cDiv).append("<span class='ui-jqgrid-title'>"+ee.caption+"</span>").append(We).addClass(I("gridTitle","ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===A?"-rtl ":" ")+Me)),$(ie.cDiv).insertBefore(ie.hDiv),ee.toolbar[0]){ie.uDiv=document.createElement("div"),"top"===ee.toolbar[1]?$(ie.uDiv).insertBefore(ie.hDiv):"bottom"===ee.toolbar[1]&&$(ie.uDiv).insertAfter(ie.hDiv);var Ve=I("toolbarUpper","ui-userdata");"both"===ee.toolbar[1]?(ie.ubDiv=document.createElement("div"),$(ie.uDiv).addClass(Ve).attr("id","t_"+ee.id).insertBefore(ie.hDiv),$(ie.ubDiv).addClass(I("toolbarBottom","ui-userdata")).attr("id","tb_"+ee.id).insertAfter(ie.hDiv),Ge&&$(ie.ubDiv).hide()):$(ie.uDiv).width(ie.width).addClass(Ve).attr("id","t_"+ee.id),Ge&&$(ie.uDiv).hide()}if("string"==typeof ee.datatype&&(ee.datatype=ee.datatype.toLowerCase()),ee.toppager?(ee.toppager=ee.id+"_toppager",ie.topDiv=$("<div id='"+ee.toppager+"'></div>")[0],$(ie.topDiv).addClass(I("pager.pager","ui-jqgrid-toppager"+(ee.caption?"":" "+Me))).css({width:ie.width+"px"}).insertBefore(ie.hDiv),j.call(D,ee.toppager,"_t"),ee.toppager="#"+jqID(ee.toppager)):""!==ee.pager||ee.scroll||(ee.rowNum=ee.maxRowNum),ee.footerrow&&(ie.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],Be=$("<div class='ui-jqgrid-hbox"+("rtl"===A?"-rtl":"")+"'></div>"),$(ie.sDiv).append(Be).width(ie.width).insertAfter(ie.hDiv),$(Be).append(Ee),ie.footers=$(".ui-jqgrid-ftable",ie.sDiv)[0].rows[0].cells,ee.rownumbers&&(ie.footers[0].className=I("rowNum","jqgrid-rownum")),Ge&&$(ie.sDiv).hide()),Be=null,ee.caption){var Ue=ee.datatype;!0===ee.hidegrid&&($(".ui-jqgrid-titlebar-close",ie.cDiv).click(function(e){var t=".ui-jqgrid-bdiv,.ui-jqgrid-hdiv,.ui-jqgrid-pager,.ui-jqgrid-sdiv",r=this;!0===ee.toolbar[0]&&("both"===ee.toolbar[1]&&(t+=",#"+jqID($(ie.ubDiv).attr("id"))),t+=",#"+jqID($(ie.uDiv).attr("id")));var i=$(t,ee.gView).length;return ee.toppager&&(t+=","+ee.toppager),"visible"===ee.gridstate?$(t,ee.gBox).slideUp("fast",function(){0===--i&&($("span",r).removeClass(Le).addClass(ze),ee.gridstate="hidden",$(ee.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",ee.gBox).hide(),$(ie.cDiv).addClass(Fe),Ge||feedback.call(D,"onHeaderClick",ee.gridstate,e))}):"hidden"===ee.gridstate&&($(ie.cDiv).removeClass(Fe),$(t,ee.gBox).slideDown("fast",function(){0===--i&&($("span",r).removeClass(ze).addClass(Le),Ge&&(ee.datatype=Ue,M.call(D),Ge=!1),ee.gridstate="visible",$(ee.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",ee.gBox).show(),Ge||feedback.call(D,"onHeaderClick",ee.gridstate,e))})),!1}),Ge&&(ee.datatype="local",$(".ui-jqgrid-titlebar-close",ie.cDiv).trigger("click")))}else $(ie.cDiv).hide(),$(ie.cDiv).nextAll("div:visible").first().addClass("ui-corner-top");$(ie.hDiv).after(ie.bDiv),ie.eDiv=$("<div class='"+I("gridError","ui-jqgrid-errorbar ui-jqgrid-errorbar-"+A)+"' style='display:none;'><span class='"+I("gridErrorText","ui-jqgrid-error")+"'></span></div>")[0],$(ie.hDiv).after(ie.eDiv),$(m).click(u).dblclick(function(e){var t=$(ee.rs),r=t.offset(),i=t.data("idx"),a=t.data("delta"),l=ee.colModel[i],o=$(this).data("pageX")||t.data("pageX");if(null==o||null==l)return!1;var n=String(o).split(";"),s=parseFloat(n[0]),d=parseFloat(n[1]);return 2===n.length&&(5<Math.abs(s-d)||5<Math.abs(e.pageX-s)||5<Math.abs(e.pageX-d))||(feedback.call(D,"resizeDblClick",i,l)&&r.left-1<=e.pageX+a&&e.pageX+a<=r.left+t.outerWidth()+1&&l.autoResizable&&Ye.autoResizeColumn.call(h,i),feedback.call(D,"afterResizeDblClick",{iCol:i,cm:l,cmName:l.name})),!1}),ee.pager||$(ie.cDiv).nextAll("div:visible").filter(":last").addClass(Fe),$(".ui-jqgrid-labels",ie.hDiv).on("selectstart",function(){return!1}),D.formatCol=w,D.sortData=L,D.updatepager=function(e,t){var r,i,a,l,o,n,s,d,c=this,u=$(c),g=c.grid,p=ee.pager||"",h=ee.pager?"_"+ee.pager.substr(1):"",f=g.bDiv,m=$.fmatter?$.fmatter.NumberFormat:null,v=ee.toppager?"_"+ee.toppager.substr(1):"",b=I("states.hover"),w=I("states.disabled");if((a=parseInt(ee.page,10)-1)<0&&(a=0),o=(a*=parseInt(ee.rowNum,10))+ee.reccount,ee.scroll){var y=$(getGridComponent(COMPONENT_NAMES.BODY_TABLE,f)[0].rows).slice(1);a=o-y.length,ee.reccount=y.length;var C=y.outerHeight()||g.prevRowHeight;if(C){var x=a*C,j=jgrid.fixMaxHeightOfDiv.call(c,parseInt(ee.records,10)*C);$(f).children("div").first().css({height:j+"px"}).children("div").first().css({height:x+"px",display:""}),0===f.scrollTop&&1<ee.page&&(f.scrollTop=ee.rowNum*(ee.page-1)*C)}f.scrollLeft=g.hDiv.scrollLeft}if(p+=ee.toppager?(p?",":"")+ee.toppager:""){if(s=O("formatter.integer")||{},r=re(ee.page),i=re(ee.lastpage),$(".selbox",p).prop("disabled",!1),!0===ee.pginput){var D=$(".ui-pg-input",p),_=String(ee.page).length;D.val(ee.page),D.each(function(){var e=parseInt($(this).attr("size"),10);0<e&&e<_&&$(this).attr("size",_)}),d=ee.toppager?"#sp_1"+h+",#sp_1"+v:"#sp_1"+h,$(d).html($.fmatter?m(ee.lastpage,s):ee.lastpage).closest(".ui-pg-table").each(function(){k.call(c,$(this))})}ee.viewrecords&&(0===ee.reccount?$(".ui-paging-info",p).html(q("emptyrecords")):(l=a+1,n=ee.records,$.fmatter&&(l=m(l,s),o=m(o,s),n=m(n,s)),$(".ui-paging-info",p).html(jgrid.format(q("recordtext"),l,o,n)))),!0===ee.pgbuttons&&(i<=0&&(r=0),r<=0&&(r=i=0),1===r||0===r?($("#first"+h+", #prev"+h).addClass(w).removeClass(b),ee.toppager&&$("#first_t"+v+", #prev_t"+v).addClass(w).removeClass(b)):($("#first"+h+", #prev"+h).removeClass(w),ee.toppager&&$("#first_t"+v+", #prev_t"+v).removeClass(w)),r===i||0===r?($("#next"+h+", #last"+h).addClass(w).removeClass(b),ee.toppager&&$("#next_t"+v+", #last_t"+v).addClass(w).removeClass(b)):($("#next"+h+", #last"+h).removeClass(w),ee.toppager&&$("#next_t"+v+", #last_t"+v).removeClass(w)))}!0===e&&!0===ee.rownumbers&&$(">td.jqgrid-rownum",c.rows).each(function(e){$(this).html(a+1+e)}),t&&ee.jqgdnd&&u.jqGrid("gridDnD","updateDnD"),feedback.call(c,"gridComplete"),u.triggerHandler("jqGridAfterGridComplete")},D.refreshIndex=x,D.addItemDataToColumnIndex=le,D.removeItemDataFromColumnIndex=function(e){var t,r,i,a=ee.dataIndexById[e];if(null!=a){for(t in a)if(a.hasOwnProperty(t))for(i in r=a[t])r.hasOwnProperty(i)&&(delete ee.indexByColumnData[t][i][e],$.isEmptyObject(ee.indexByColumnData[t][i])&&delete ee.indexByColumnData[t][i]);delete ee.dataIndexById[e]}},D.generateValueFromColumnIndex=function(e,t,r){var i,a,l=$(this).jqGrid("getUniqueValueFromColumnIndex",e),o="";if(null!=l)for(r=r||";",t=t||":",i=0,a=l.length;i<a;i++)""!==o&&(o+=r||";"),o+=l[i]+(t||":")+l[i];return o},D.setHeadCheckBox=F,D.fixScrollOffsetAndhBoxPadding=E,D.constructTr=function(e,t,r,i,a,l){var o,n="-1",s="",d=t?"display:none;":"",c=I("gridRow","jqgrow ui-row-"+ee.direction)+(r?" "+r:"")+(l?" "+I("states.select"):""),u=$(this).triggerHandler("jqGridRowAttr",[i,a,e]);if("object"!=typeof u&&(u=K(ee.rowattr)?ee.rowattr.call(this,i,a,e):"string"==typeof ee.rowattr&&null!=jgrid.rowattr&&K(jgrid.rowattr[ee.rowattr])?jgrid.rowattr[ee.rowattr].call(this,i,a,e):{}),null!=u&&!$.isEmptyObject(u)){u.hasOwnProperty("id")&&(e=u.id,delete u.id),u.hasOwnProperty("tabindex")&&(n=u.tabindex,delete u.tabindex),u.hasOwnProperty("style")&&(d+=u.style,delete u.style),u.hasOwnProperty("class")&&(c+=" "+u.class,delete u.class);try{delete u.role}catch(e){}for(o in u)u.hasOwnProperty(o)&&(s+=" "+o+"="+u[o])}if(ee.treeGrid&&parseInt(i[ee.treeReader.level_field],10)!==parseInt(ee.tree_root_level,10)){var g=Ye.getNodeParent.call($(this),i);!g||!g.hasOwnProperty(ee.treeReader.expanded_field)||g[ee.treeReader.expanded_field]||t||(d+="display:none;")}return"<tr role='row' id='"+e+"' tabindex='"+n+"' class='"+c+"'"+(""===d?"":" style='"+d+"'")+s+">"},D.formatter=function(e,t,r,i,a,l){var o,n,s=ee.colModel[r];if(void 0!==s.formatter){var d={rowId:e=""!==String(ee.idPrefix)?(n=e,stripPref(ee.idPrefix,n)):e,colModel:s,gid:ee.id,pos:r,rowData:l||i};o=K(s.cellBuilder)?s.cellBuilder.call(D,t,d,i,a):K(s.formatter)?s.formatter.call(D,t,d,i,a):$.fmatter?$.fn.fmatter.call(D,s.formatter,t,d,i,a):y(t)}else o=y(t);if(o=s.autoResizable&&"actions"!==s.formatter?"<span class='"+ee.autoResizing.wrapperClassName+"'>"+o+"</span>":o,ee.treeGrid&&"edit"!==a&&(null==ee.ExpandColumn&&0===r||ee.ExpandColumn===s.name)){null==l&&(l=ee.data[ee._index[e]]);var c=parseInt(l[ee.treeReader.level_field]||0,10),u=0===parseInt(ee.tree_root_level,10)?c:c-1,g=l[ee.treeReader.leaf_field],p=l[ee.treeReader.expanded_field],h=l[ee.treeReader.icon_field],f=g?(null!=h&&""!==h?h:ee.treeIcons.leaf)+" tree-leaf":p?ee.treeIcons.minus+" tree-minus":ee.treeIcons.plus+" tree-plus";if(!g&&h&&"string"==typeof h){var m=h.split(",");2===m.length&&(f=p?m[0]:m[1])}o="<div class='tree-wrap' style='width:"+18*(u+1)+"px;'><div class='"+mergeCssClasses(ee.treeIcons.commonIconClass,f,"treeclick")+"' style='"+(!0===ee.ExpandColClick?"cursor:pointer;":"")+("rtl"===ee.direction?"margin-right:":"margin-left:")+18*u+"px;'></div></div><span class='cell-wrapper"+(g?"leaf":"")+"'"+(ee.ExpandColClick?" style='cursor:pointer;'":"")+">"+o+"</span>"}return o},_(ie,{populate:M,emptyRows:function(e,t){var r=ie.bDiv,i=null!=ie.fbDiv?ie.fbDiv.children(".ui-jqgrid-btable")[0]:null,a=function(e){if(e){var t=e.rows,r=t[0];if(ee.deepempty)t&&$(t).slice(1).remove();else if(ee.quickEmpty)if("quickest"===ee.quickEmpty)e.replaceChild(document.createElement("tbody"),e.tBodies[0]),e.firstChild.appendChild(r);else for(;1<t.length;)e.deleteRow(t.length-1);else $(e.firstChild).empty().append(r)}};$(this).off(".jqGridFormatter"),a(this),a(i),e&&ee.scroll&&($(r.firstChild).css({height:"auto"}),$(r.firstChild.firstChild).css({height:0,display:"none"}),0!==r.scrollTop&&(r.scrollTop=0)),!0===t&&ee.treeGrid&&(clearArray(ee.data),clearArray(ee.lastSelectedData),ee._index={},ee.dataIndexById={},ee.indexByColumnData={}),ee.rowIndexes={},ee.iRow=-1,ee.iCol=-1},beginReq:G,endReq:B}),D.addXmlData=T,D.addJSONData=T,D.rebuildRowIndexes=te,D.grid.cols=D.rows[0].cells,feedback.call(D,"onInitGrid"),ee.treeGrid&&"local"===ee.datatype&&null!=ee.data&&0<ee.data.length&&(ee.datatype="jsonstring",ee.datastr=ee.data,ee.data=[]),M.call(D),ee.hiddengrid=!1}else S(O("errors.model"))}else S("Element is not a table!")}})};var base=$.fn.jqGrid;jgrid.extend({getGridRes:function(e){var t=this[0];if(!t||!t.grid||!t.p)return null;var r=jgrid.getRes(locales[t.p.locale],e)||jgrid.getRes(locales["en-US"],e),i=jgrid.getRes(jgrid,e);return"object"!=typeof r||null===r||$.isArray(r)?void 0!==i?i:r:$.extend(!0,{},r,i||{})},getGuiStyles:function(e,t){var r=this instanceof $&&0<this.length?this[0]:this;if(!r||!r.grid||!r.p)return"";var i,a=r.p.guiStyle||jgrid.defaults.guiStyle||"jQueryUI",l=jgrid.getRes(jgrid.guiStyles[a],e);return void 0===l&&"string"==typeof(i=jgrid.getRes(jgrid.guiStyles[a],"baseGuiStyle"))&&(l=jgrid.getRes(jgrid.guiStyles[i],e)),jgrid.mergeCssClasses(l||"",t||"")},isBootstrapGuiStyle:function(){return 0<=$.inArray("ui-jqgrid-bootstrap",$(this).jqGrid("getGuiStyles","gBox").split(" "))},displayErrorMessage:function(e){var t=this instanceof $&&0<this.length?this[0]:this;if(t&&t.grid&&t.p&&e){var r=$(t.grid.eDiv),i=r.children(".ui-jqgrid-error");i.html(e),r.show(),t.p.errorDisplayTimeout&&setTimeout(function(){i.empty(),r.hide()},t.p.errorDisplayTimeout)}},getIconRes:function(e){var t=this instanceof $&&0<this.length?this[0]:this;if(!t||!t.p)return"";var r=t.p,i=jgrid.icons[r.iconSet],a=function(e,t){var r,i,a,l=t.split("."),o=l.length,n=[];if(null==(e="string"==typeof e?jgrid.icons[e]:e))return"";for((r=e).common&&n.push(r.common),a=0;a<o&&(i=l[a]);a++){if(void 0===(r=r[i])){if("common"===i)break;return""}if("string"==typeof r){n.push(r);break}null!=r&&r.common&&n.push(r.common)}return jgrid.mergeCssClasses.apply(this,n)};if(null==i)return"";var l=a(r.iconSet,e);return""===l&&null!=i.baseIconSet&&(l=a(i.baseIconSet,e)),l||""},isInCommonIconClass:function(e){var t=this instanceof $&&0<this.length?this[0]:this;if(!t||!t.p)return"";var r=t.p,i=jgrid.icons[r.iconSet];if(null==i)return!1;var a=i.common;if(void 0===a){if(null==i.baseIconSet)return!1;if(null==(i=jgrid.icons[i.baseIconSet]))return!1;a=i.common}return"string"==typeof a&&0<=$.inArray(e,a.split(" "))},getUniqueValueFromColumnIndex:function(e){var t=this[0];if(!t||!t.grid)return null;var r,i=[],a="",l=t.p.indexByColumnData[e];if(null!=l){for(a in l)if(l.hasOwnProperty(a)){for(r in l[a])if(l[a].hasOwnProperty(r)){a=String(l[a][r]);break}i.push(a)}t.p.ignoreCase?void 0===String.prototype.localeCompare?i.sort(function(e,t){var r=e.toLowerCase(),i=t.toLowerCase();return r===i?0:i<r?1:-1}):i.sort(function(e,t){return String(e).toLowerCase().localeCompare(String(t).toLowerCase())}):i.sort()}return i},generateDatalistFromColumnIndex:function(e){if(!this[0]||!this[0].grid)return null;var t,r,i=this.jqGrid("getUniqueValueFromColumnIndex",e),a=$("<datalist></datalist>");if(!(null!=i&&0<i.length))return $();for(t=0,r=i.length;t<r;t++)a.append($("<option></option>").attr("value",i[t]));return a},getGridParam:function(e){var t=this[0];return t&&t.grid?e?void 0!==t.p[e]?t.p[e]:null:t.p:null},setGridParam:function(e,t){return this.each(function(){null==t&&(t=!1),this.grid&&"object"==typeof e&&(!0===t?$.extend(this.p,e):$.extend(!0,this.p,e))})},abortAjaxRequest:function(){return this.each(function(){null!=this.p.jqXhr&&this.p.jqXhr.abort(),this.grid.endReq.call(this)})},getGridRowById:function(i){if(null==i)return null;var a,l=i.toString();return this.each(function(){var e,t,r=this.rows;if(null!=this.p.rowIndexes&&(t=r[this.p.rowIndexes[l]])&&t.id===l&&(a=t),!a)try{for(e=r.length;e--;)if(t=r[e],l===t.id){a=t;break}}catch(e){a=0<(a=$(this.grid.bDiv).find("#"+jqID(i))).length?a[0]:null}}),a},getDataIDs:function(){var a=[];return this.each(function(){var e,t,r=this.rows,i=r.length;if(i&&0<i)for(e=0;e<i;e++)t=r[e],$(t).hasClass("jqgrow")&&a.push(t.id)}),a},setSelection:function(j,D,_){return this.each(function(){var e,t,r,i,a,l,o,n,s,d,c,u,g,p,h=this,f=$(h),m=h.p,v=base.getGuiStyles,b=base.getGridRowById,w=v.call(f,"states.select"),y=v.call(f,"states.disabled"),C=h.grid.fbRows,x=function(e,t){var r=t?"addClass":"removeClass",i=m.iColByName.cb,a=t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"},l=function(e){$(e)[r](w).attr(a),void 0!==i&&$(e.cells[i]).children("input.cbox").prop("checked",t)};l(e),C&&l(C[e.rowIndex])};void 0!==j&&(D=!1!==D,null!=_&&0<(o=$(_.target).closest("tr.jqgrow")).length&&(t=o[0],C&&(t=h.rows[t.rowIndex])),null==t&&(t=b.call(f,j)),!t||!t.className||-1<t.className.indexOf(y)||(!0===m.scrollrows&&null!=(r=b.call(f,j))&&0<=(r=r.rowIndex)&&(s=h.rows[r],d=h.grid.bDiv,c=d.clientHeight,u=d.scrollTop,g=$(s).position().top,p=s.clientHeight,c+u<=g+p?d.scrollTop=g-(c+u)+p+u:g<c+u&&g<u&&(d.scrollTop=g)),m.multiselect?(h.setHeadCheckBox(!1),m.selrow=t.id,n=jgrid.detectRowEditing.call(h,t.id),-1===(i=$.inArray(m.selrow,m.selarrrow))?(e=!0,m.selarrrow.push(m.selrow)):null===n||"inlineEditing"!==n.mode&&$(_.target).hasClass("cbox")?(e=!1,m.selarrrow.splice(i,1),a=m.selarrrow[0],m.selrow=void 0===a?null:a):e=!0,"ui-subgrid"!==t.className&&x(t,e),D&&feedback.call(h,"onSelectRow",t.id,e,_||{})):"ui-subgrid"!==t.className&&(m.selrow!==t.id?(null!==m.selrow&&(l=b.call(f,m.selrow))&&x(l,!1),x(t,!0),e=!0):e=!1,m.selrow=t.id,D&&feedback.call(h,"onSelectRow",t.id,e,_||{}))))})},resetSelection:function(h){return this.each(function(){var e,t=this,r=$(this),i=t.p,a=base.getGuiStyles,l=base.getGridRowById,o=a.call(r,"states.select"),n="edit-cell "+o,s="selected-row "+a.call(r,"states.hover"),d=i.iColByName.cb,c=void 0!==d,u=t.grid.fbRows,g=function(e){var t,r="removeClass",i={"aria-selected":"false",tabindex:"-1"};$(e)[r](o).attr(i),c&&$(e.cells[d]).children("input.cbox").prop("checked",!1),u&&(t=u[e.rowIndex],$(t)[r](o).attr(i),c&&$(t.cells[d]).children("input.cbox").prop("checked",!1))};if(void 0!==h){if(e=l.call(r,h),g(e),c){t.setHeadCheckBox(!1);var p=$.inArray(h,i.selarrrow);-1!==p&&i.selarrrow.splice(p,1)}}else i.multiselect?($(t.rows).each(function(){var e=$.inArray(this.id,i.selarrrow);-1!==e&&(g(this),i.selarrrow.splice(e,1))}),t.setHeadCheckBox(!1),i.multiPageSelection||clearArray(i.selarrrow),i.selrow=null):i.selrow&&(e=l.call(r,i.selrow),g(e),i.selrow=null);!0===i.cellEdit&&0<=parseInt(i.iCol,10)&&0<=parseInt(i.iRow,10)&&(null!=(e=t.rows[i.iRow])&&($(e.cells[i.iCol]).removeClass(n),$(e).removeClass(s)),u&&null!=(e=u[i.iRow])&&($(e.cells[i.iCol]).removeClass(n),$(e).removeClass(s))),clearArray(i.savedRow),i.editingInfo={}})},isCellEditing:function(e,t,r){var i=this[0],a=jgrid.detectRowEditing.call(i,e);if(null!=a&&("inlineEditing"===a.mode||"cellEditing"===a.mode&&a.savedRow.ic===t)){t=isNaN(t)?i.p.iColByName[t]:parseInt(t,10);var l=null!=r&&r.id===e?r:base.getGridRowById.call($(i),e),o=i.p.colModel[t],n=o.editable;if($.isFunction(n)&&(n=n.call(i,{rowid:e,id:stripPref(i.p.idPrefix,e),iCol:t,iRow:l.rowIndex,cmName:o.name,cm:o,mode:a.mode,td:l.cells[t],tr:l,dataElement:jgrid.getDataFieldOfCell.call(i,l,t)[0]})),!0===n)return!0}return!1},getRowData:function(g,p){var h,f={};return"object"==typeof g&&(p=g,g=void 0),p=p||{},this.each(function(){var e,t,r,i,a,l,o,n=this,s=n.p,d=!1,c=1,u=n.rows;if(void 0===g)d=!0,h=[],c=u.length;else if(!(e=base.getGridRowById.call($(n),g)))return f;for(t=0;t<c;t++)if(d&&(e=u[t]),$(e).hasClass("jqgrow")){for(jgrid.detectRowEditing.call(n,g),i=$(e).find("td[role=gridcell]"),r=0;r<i.length;r++)if(l=(a=s.colModel[r]).name,$.inArray(l,s.reservedColumnNames)<0&&"actions"!==a.formatter&&(!p.skipHidden||!a.hidden))if(o=i[r],base.isCellEditing.call($(n),g,r,e))f[l]=jgrid.getEditedValue.call(n,jgrid.getDataFieldOfCell.call(n,e,r),a,{},a.editable);else if(!0===s.treeGrid&&l===s.ExpandColumn)f[l]=htmlDecode($("span",o).first().html());else try{f[l]=$.unformat.call(n,o,{rowId:g,colModel:a},r)}catch(e){f[l]=htmlDecode($(o).html())}!p.includeId||!1!==s.keyName&&null!=f[s.keyName]||(f[s.prmNames.id]=stripPref(s.idPrefix,e.id)),d&&(h.push(f),f={})}}),h||f},delRowData:function(c){var u=!1;return this.each(function(){var e,t,r,i=this,a=i.p,l=$.jgrid.detectRowEditing.call(i,c);if(!(e=base.getGridRowById.call($(i),c)))return!1;if(a.subGrid&&(r=$(e).next()).hasClass("ui-subgrid")&&r.remove(),null!=l)try{"inlineEditing"===l.mode&&null!=base.restoreRow?base.restoreRow.call($(i),c):"cellEditing"===l.mode&&null!=base.restoreCell&&base.restoreCell.call($(i),l.savedRow.id,l.savedRow.ic)}catch(e){}if(e.rowIndex===a.iRow&&(a.iRow=-1,a.iCol=-1),$(e).remove(),a.records--,a.reccount--,i.updatepager(!0,!1),u=!0,a.multiselect&&-1!==(t=$.inArray(c,a.selarrrow))&&a.selarrrow.splice(t,1),a.multiselect&&0<a.selarrrow.length?a.selrow=a.selarrrow[a.selarrrow.length-1]:a.selrow===c&&(a.selrow=null),"local"===a.datatype){var o=stripPref(a.idPrefix,c),n=a._index[o];void 0!==n&&(i.removeItemDataFromColumnIndex(o),a.data.splice(n,1),i.refreshIndex())}if(i.rebuildRowIndexes(),!0===a.altRows&&u&&!$(i).jqGrid("isBootstrapGuiStyle")){var s=a.altclass,d=i.grid.fbRows;$(i.rows).each(function(e){var t=$(this);d&&(t=t.add(d[this.rowIndex])),t[e%2==0?"addClass":"removeClass"](s)})}feedback.call(i,"afterDelRow",c)}),u},setRowData:function(g,p,i){var l=!0;return this.each(function(){var o,n=this,s=n.p,e=typeof i,d={};if(!n.grid)return!1;if(!(o=base.getGridRowById.call($(n),g)))return!1;if(p)try{var t,a=stripPref(s.idPrefix,g),r=s._index[a],c={},u=null!=r?s.data[r]:void 0;if($(s.colModel).each(function(e){var t=this,r=t.name,i=getAccessor(p,r);void 0!==i&&("local"===s.datatype&&null!=u&&(i=convertOnSaveLocally.call(n,i,t,u[r],a,u,e),$.isFunction(t.saveLocally)?t.saveLocally.call(n,{newValue:i,newItem:d,oldItem:u,id:a,cm:t,cmName:r,iCol:e}):d[r]=i),c[r]=i)}),$(s.colModel).each(function(e){var t,r=this.name,i=getAccessor(p,r),a=$(o.cells[e]);if(void 0!==i){"local"===s.datatype&&null!=u&&(i=d[r]),t=this.title?{title:i}:{},i=n.formatter(g,i,e,p,"edit",c),"select"===this.formatter&&(t=this.title?{title:stripHtml(i)}:{});var l=a;!0===s.treeGrid&&r===s.ExpandColumn&&(l=l.children("span.cell-wrapperleaf,span.cell-wrapper").first()),l.html(i),a.attr(t),s.frozenColumns&&(l=$(n.grid.fbRows[o.rowIndex].cells[e]),!0===s.treeGrid&&r===s.ExpandColumn&&(l=l.children("span.cell-wrapperleaf,span.cell-wrapper").first()),l.html(i).attr(t))}}),"local"===s.datatype){if(s.treeGrid)for(t in s.treeReader)s.treeReader.hasOwnProperty(t)&&delete d[s.treeReader[t]];void 0!==u&&(s.data[r]=$.extend(!0,u,d),n.removeItemDataFromColumnIndex(a),n.addItemDataToColumnIndex(s.data[r],a))}feedback.call(n,"afterSetRow",{rowid:g,inputData:p,iData:r,iRow:o.rowIndex,tr:o,localData:d,cssProp:i})}catch(e){l=!1}l&&("string"===e?$(o).addClass(i):null!==i&&"object"===e&&$(o).css(i))}),l},changeRowid:function(h,f){return this.each(function(){var e,t,r,i,a,l,o,n=this,s=$(n),d=n.p;if(n.grid&&d&&h!==f&&(i=s.jqGrid("getGridRowById",h))&&null==s.jqGrid("getGridRowById",f)){var c=jgrid.stripPref(d.idPrefix,h),u=jgrid.stripPref(d.idPrefix,f),g=!1===d.keyName?d.prmNames.id:d.keyName,p=function(){var e=this.id,t=e.length-c.length;0<t&&e.substr(t)===c&&$(this).attr("id",e.substr(0,t)+u)};for(0<=d.iColByName[g]&&s.jqGrid("setCell",h,g,u),"local"===d.datatype&&void 0!==d._index[c]&&(d._index[u]=d._index[c],e=d.data[d._index[c]],delete d._index[c],e.hasOwnProperty(g)&&(e[g]=u)),d.rowIndexes[f]=i.rowIndex,delete d.rowIndexes[h],(a=null==n.grid.fbRows?$(i):$(i).add(n.grid.fbRows[i.rowIndex])).attr("id",f),d.selrow===h&&(d.selrow=f),$.isArray(d.selarrrow)&&0<=(t=$.inArray(h,d.selarrrow))&&(d.selarrrow[t]=f),d.multiselect&&(r="jqg_"+d.id+"_"+f,a.find("input.cbox").attr("id",r).attr("name",r)),t=0;t<d.colModel.length;t++)"actions"===(l=d.colModel[t]).formatter?a.find(".ui-jqgrid-actions .ui-pg-div").each(p):("showlink"===l.formatter||null!=l.unformat&&null!=l.formatter)&&(o=s.jqGrid("getCell",f,t),s.jqGrid("setCell",f,t,o,!1,!1,!0));feedback.call(n,"afterChangeRowid",{rowid:f,oldRowid:h,iRow:i.rowIndex,tr:i})}})},addRowData:function(u,g,p,h){$.inArray(p,["first","last","before","after","afterSelected","beforeSelected"])<0&&(p="last");var f,m,v,b,w,y,C,x,j,D,_,R=!1;return g&&($.isArray(g)?(y=!0,C=u):y=!(g=[g]),this.each(function(){var e,t,r=this,i=r.p,a=g.length,l=$(r),o=r.rows,n=0,s=base.getGridRowById,d=i.colModel,c=i.additionalProperties;for(y||(void 0!==u?u=String(u):(u=randId(),!1!==i.keyName&&(C=i.keyName,void 0!==g[0][C]&&(u=g[0][C])))),x=i.altclass;n<a;){if(j=g[n],m=[],y)try{void 0===(u=j[C])&&(u=randId())}catch(e){u=randId()}for(_=jgrid.stripPref(i.idPrefix,u),e={},b=0;b<d.length;b++)D=d[b],"rn"!==(f=D.name)&&"cb"!==f&&"subgrid"!==f&&(w=convertOnSaveLocally.call(r,j[f],D,void 0,_,{},b),$.isFunction(D.saveLocally)?D.saveLocally.call(r,{newValue:w,newItem:e,oldItem:{},id:_,rowid:u,cm:D,cmName:f,iCol:b}):void 0!==w&&(e[f]=w));for(b=0;b<c.length;b++)"object"==typeof(f=c[b])&&f.hasOwnProperty("name")&&(f=f.name),void 0!==(w=getAccessor(j,f))&&(e[f]=w);if("local"===i.datatype&&(e[i.localReader.id]=_,i._index[_]=i.data.length,i.data.push(e),r.addItemDataToColumnIndex(e,_)),t=i.grouping,i.grouping=!1,m=jgrid.parseDataToHtml.call(r,1,[u],[j]),i.grouping=t,m=m.join(""),0===o.length)$(r.tBodies[0]).append(m);else switch("afterSelected"!==p&&"beforeSelected"!==p||(void 0===h&&null!==i.selrow?(h=i.selrow,p="afterSelected"===p?"after":"before"):p="afterSelected"===p?"last":"first"),p){case"last":$(o[o.length-1]).after(m),v=o.length-1;break;case"first":$(o[0]).after(m),v=1;break;case"after":(v=s.call(l,h))&&($(o[v.rowIndex+1]).hasClass("ui-subgrid")?($(o[v.rowIndex+1]).after(m),v=v.rowIndex+2):($(v).after(m),v=v.rowIndex+1));break;case"before":(v=s.call(l,h))&&($(v).before(m),v=v.rowIndex-1)}!0===i.subGrid&&base.addSubGrid.call(l,i.iColByName.subgrid,v),i.records++,i.reccount++,0===i.lastpage&&(i.lastpage=1),feedback.call(r,"afterAddRow",{rowid:u,inputData:g,position:p,srcRowid:h,iRow:v,tr:o[v],localData:e,iData:i.data.length-1}),n++}!0!==i.altRows||y||l.jqGrid("isBootstrapGuiStyle")||("last"===p?(o.length-1)%2==0&&$(o[o.length-1]).addClass(x):$(o).each(function(e){e%2==1?$(this).addClass(x):$(this).removeClass(x)})),r.rebuildRowIndexes(),r.updatepager(!0,!0),R=!0})),R},footerData:function(c,u,g){var p=!1,h={};return null==c&&(c="get"),"boolean"!=typeof g&&(g=!0),c=c.toLowerCase(),this.each(function(){var e,t,r,i,a=this,l=a.p;if(!a.grid||!l.footerrow)return!1;if("set"===c&&function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(u))return!1;p=!0;var o=$(a.grid.sDiv).children(".ui-jqgrid-hbox"+("rtl"===l.direction?"-rtl":"")).children(".ui-jqgrid-ftable")[0];if(null==o||null==o.rows)return!1;var n=o.rows[0].cells,s=l.colModel,d=null==a.grid.fsDiv?{}:a.grid.fsDiv.children(".ui-jqgrid-ftable")[0].rows[0].cells;if("get"===c)for(i=0;i<s.length;i++)r=s[i].name,$.inArray(r,l.reservedColumnNames)<0&&(!1!==u?(e=$(n[i]).text(),$.trim(e)&&(h[r]=e)):h[r]=$(n[i]).html());else if("set"===c)for(r in u)i=l.iColByName[r],u.hasOwnProperty(r)&&void 0!==i&&(e=g?a.formatter("",u[r],i,u,"edit"):u[r],(t=$(n[i]).add(d[i])).html(e),s[i].title&&t.attr({title:stripHtml(e)}))}),"get"===c?h:p},resetColumnResizerHeight:function(){return this.each(function(){if($.jgrid.msie){var e,t,r,i,a=this.grid.headers;for(r=0;r<a.length;r++)(i=(e=$(a[r].el)).height())&&0<(t=e.children(".ui-jqgrid-resize")).length&&.5<Math.abs(i-t.height())&&e.children(".ui-jqgrid-resize").height(i)}})},rotateColumnHeaders:function(w,y){return this.each(function(){var e,t,r,i,a,l,o,n,s,d,c,u,g,p,h,f,m=$(this),v=this.p,b=v.frozenColumns&&$.isFunction(base.getNumberOfFrozenColumns)?m.jqGrid("getNumberOfFrozenColumns"):0;for($.isArray(w)||(w=[w]),e=0;e<w.length;e++)l=w[e],0<=(t=isNaN(l)?v.iColByName[l]:parseInt(l,10))&&(r=this.grid.headers[t].el,i=t<b?$(r).add($(this.grid.fhDiv.find("#"+jqID(r.id)))):$(r),o=i.children("div"),n=o.children("span.s-ico"),d=o.children("span.ui-jqgrid-sort-order"),(s=o.children("span."+v.autoResizing.wrapperClassName)).length<1&&(n.detach(),d.detach(),o.wrapInner("<span class='"+v.autoResizing.wrapperClassName+"'></span>"),s=o.children("span."+v.autoResizing.wrapperClassName),o.each(function(e){e<n.length&&$(this).append(n[e]),e<d.length&&$(this).append(d[e])})),c=n.outerWidth(!0),u=s.outerWidth(),h=parseFloat(i.css("padding-top")||0),f=parseFloat(i.css("padding-bottom")||0),g=parseFloat(i.css("padding-left")||0),p=parseFloat(i.css("padding-right")||0),v.showSortOrder&&(c+=.5*c),a=void 0===y||0===y?u+c+g+p:y,i.height(a),i.css({paddingTop:p+"px",paddingBottom:g+"px",paddingLeft:h+"px",paddingRight:f+"px"}),o.css("min-width",a-g-p+"px").addClass("ui-jqgrid-rotate").css({bottom:0}),v.colModel[t].rotated=!0);m.jqGrid("resetColumnResizerHeight"),v.frozenColumns&&setTimeout(function(){m.triggerHandler("jqGridResetFrozenHeights",{header:{resizeDiv:!0,resizedRows:{iRowStart:0,iRowEnd:-1}},resizeFooter:!0,body:{resizeDiv:!0,resizedRows:{iRowStart:-1,iRowEnd:-1}}})},0)})},showHideCol:function(u,w,g){return this.each(function(){var t,r=this,e=$(r),i=r.grid,a=!1,v=r.p,l=jgrid.cell_width?0:v.cellLayout;if(i){"string"==typeof u&&(u=[u]),g=g||{};var b=""===(w="none"!==w&&!1!==w?"":"none"),o=v.groupHeader,n=o&&("object"==typeof o||$.isFunction(o));if(n&&!g.skipSetGroupHeaders&&base.destroyGroupHeader.call(e,!1),$(v.colModel).each(function(m){var e=function(e){var t,r,i,a,l,o,n,s,d,c,u,g,p,h,f;for(t=0,r=e.length;t<r;t++)a=(i=e[t]).cells[m],(!$(i).hasClass("jqgroup")||null!=a&&1===a.colSpan)&&(l=$(a),0===t&&$(i).hasClass("jqgfirstrow")?(l.css("height","1px"),l.css("display",w),l.css("height","0")):l.css("display",w),b&&null!=a&&"TH"===a.tagName.toUpperCase()&&l.hasClass("ui-th-column")&&(o=l.children("div")).hasClass("ui-jqgrid-rotate")&&(n=o.children("span.s-ico"),(s=o.children("span."+v.autoResizing.wrapperClassName)).outerHeight(),d=s.outerWidth(),n.outerHeight(),c=n.outerWidth(!0),0<s.length&&(g=parseFloat(l.css("padding-top")||0),p=parseFloat(l.css("padding-bottom")||0),h=parseFloat(l.css("padding-left")||0),f=parseFloat(l.css("padding-right")||0),v.showSortOrder&&(c+=.5*c),u=d+c+h+f,l.height(u),l.css({paddingTop:f+"px",paddingBottom:h+"px",paddingLeft:g+"px",paddingRight:p+"px"}),o.css("min-width",u-h-f+"px").css({bottom:0}))))};if(-1!==$.inArray(this.name,u)&&this.hidden===b){if(!0===v.frozenColumns&&!0===this.frozen&&!g.notSkipFrozen)return!0;e($(i.hDiv).find(".ui-jqgrid-htable>thead>tr")),!0===v.frozenColumns&&null!=i.fhDiv&&e($(i.fhDiv).find(".ui-jqgrid-htable>thead>tr")),e(r.rows),!0===v.frozenColumns&&null!=i.fbRows&&e(r.rows),v.footerrow&&(e($(i.sDiv).find("tr.footrow")),!0===v.frozenColumns&&null!=i.fsDiv&&e($(i.fsDiv).find("tr.footrow"))),t=parseInt(this.width,10),"none"===w?v.tblwidth-=t+l:v.tblwidth+=t+l,this.hidden=!b,a=!0,g.skipFeedback?(g.toReport=g.toReport||{},g.toReport[this.name]=b):feedback.call(r,"onShowHideCol",b,this.name,m,g)}}),!0===a){var s=v.autowidth||void 0!==v.widthOrg&&"auto"!==v.widthOrg&&"100%"!==v.widthOrg?v.width:v.tblwidth+parseInt(v.scrollOffset,10);g.skipSetGridWidth?g.newGridWidth=s:base.setGridWidth.call(e,s)}if(n&&!g.skipSetGroupHeaders)if(null!=v.pivotOptions&&null!=v.pivotOptions.colHeaders&&1<v.pivotOptions.colHeaders.length){var d,c=v.pivotOptions.colHeaders;for(d=0;d<c.length;d++)c[d]&&c[d].groupHeaders.length&&base.setGroupHeaders.call(e,c[d])}else base.setGroupHeaders.call(e,v.groupHeader)}})},hideCol:function(e,t){return this.each(function(){base.showHideCol.call($(this),e,"none",t)})},showCol:function(e,t){return this.each(function(){base.showHideCol.call($(this),e,"",t)})},remapColumns:function(a,e,t){var r,i,l,o,n=this[0],s=n.p,d=n.grid,c=$.makeArray,u=!0===s.frozenColumns,g=this.jqGrid("getNumberOfFrozenColumns");function p(t){var r=t.length?c(t):$.extend({},t);$.each(o,function(e){t[e]=r[this]})}function h(e,t){(t?e.children(t):e.children()).each(function(){var i=this,a=c(i.cells);$.each(o,function(e){var t=a[this],r=i.cells[e];null!=t&&null!=r&&t.cellIndex!==e&&t.parentNode.insertBefore(t,r)})})}if(null!=d&&null!=s){for(o=function(){var e,t=[],r=[],i=a.length;for(e=0;e<i;e++)u&&a[e]<g?t.push(a[e]):r.push(a[e]);return t.concat(r)}(),p(s.colModel),p(s.colNames),p(d.headers),l=$(d.hDiv).children("div").children("table.ui-jqgrid-htable").children("thead"),u&&null!=d.fhDiv&&(l=l.add(d.fhDiv.children("table.ui-jqgrid-htable").children("thead"))),h(l,t&&":not(.ui-jqgrid-labels)"),e&&(l=$(n.tBodies[0]),u&&null!=d.fbDiv&&(l=l.add(d.fbDiv.children("table.ui-jqgrid-btable").children("tbody").first())),h(l,"tr.jqgfirstrow,tr.jqgrow,tr.jqfoot")),s.footerrow&&(l=$(d.sDiv).children("div").children("table.ui-jqgrid-ftable").children("tbody").first(),u&&null!=d.fsDiv&&(l=l.add(d.fsDiv.children("table.ui-jqgrid-ftable").children("tbody").first())),h(l)),s.remapColumns&&(s.remapColumns.length?p(s.remapColumns):s.remapColumns=c(o)),s.lastsort=$.inArray(s.lastsort,o),s.iColByName={},r=0,i=s.colModel.length;r<i;r++)s.iColByName[s.colModel[r].name]=r;feedback.call(n,"onRemapColumns",o,e,t)}},remapColumnsByName:function(e,t,r){var i,a,l=this[0].p,o=[],n=e.slice(),s=$.inArray;for(l.subGrid&&s("subgrid",n)<0&&n.unshift("subgrid"),l.multiselect&&s("cb",n)<0&&n.unshift("cb"),l.rownumbers&&s("rn",n)<0&&n.unshift("rn"),i=0,a=n.length;i<a;i++)o.push(l.iColByName[n[i]]);return base.remapColumns.call(this,o,t,r),this},setGridWidth:function(I,O){return this.each(function(){var t,r,e,i,a=this,l=a.p,o=a.grid,n=0,s=0,d=!1,c=0,u=jgrid.isCellClassHidden,g=I;if(o&&null!=l){a.fixScrollOffsetAndhBoxPadding();var p,h,f,m,v=l.colModel,b=l.scrollOffset,w=jgrid.cell_width?0:l.cellLayout,y=o.headers,C=o.footers,x=o.bDiv,j=o.hDiv,D=o.sDiv,_=o.cols,R=$(j).find(">div>.ui-jqgrid-htable>thead>tr").first()[0].cells,S=function(e){o.width=l.width=e,$(l.gBox).css("width",e+"px"),$(l.gView).css("width",e+"px"),$(x).css("width",e+"px"),$(j).css("width",e+"px"),l.pager&&$(l.pager).css("width",e+"px"),l.toppager&&$(l.toppager).css("width",e+"px"),!0===l.toolbar[0]&&($(o.uDiv).css("width",e+"px"),"both"===l.toolbar[1]&&$(o.ubDiv).css("width",e+"px")),l.footerrow&&$(D).css("width",e+"px")};if("boolean"!=typeof O&&(O=l.shrinkToFit),!isNaN(g)){if(S(g=parseInt(g,10)),!1===O&&!0===l.forceFit&&(l.forceFit=!1),!0===O){if($.each(v,function(){!1!==this.hidden||u(this.classes)||(t=this.widthOrg,n+=t+w,this.fixed?c+=this.width+w:s++)}),0===s)return;if(l.tblwidth=parseInt(n,10),e=g-w*s-c,isNaN(l.height)||(x.clientHeight<x.scrollHeight||1===a.rows.length)&&(d=!0,e-=b),(m=e/(l.tblwidth-w*s-c))<0)return;if(f=(n=0)<_.length,$.each(v,function(e){!1!==this.hidden||u(this.classes)||this.fixed||(t=Math.round(this.widthOrg*m),this.width=t,n+=t,y[e].width=t,R[e].style.width=t+"px",l.footerrow&&(C[e].style.width=t+"px"),f&&(_[e].style.width=t+"px"),r=e)}),!r)return;i=0,d?g-c-(n+w*s)!==b&&(i=g-c-(n+w*s)-b):1!==Math.abs(g-c-(n+w*s))&&(i=g-c-(n+w*s)),(p=v[r]).width+=i,l.tblwidth=parseInt(n+i+w*s+c,10),l.tblwidth>g&&(h=l.tblwidth-parseInt(g,10),l.tblwidth=g,p.width=p.width-h),t=p.width,y[r].width=t,R[r].style.width=t+"px",f&&(_[r].style.width=t+"px"),l.footerrow&&(C[r].style.width=t+"px"),l.tblwidth+(d?b:0)<l.width&&S(l.tblwidth+(d?b:0)),x.offsetWidth>x.clientWidth&&(l.autowidth||void 0!==l.widthOrg&&"auto"!==l.widthOrg&&"100%"!==l.widthOrg||S(x.offsetWidth))}l.tblwidth&&(l.tblwidth=parseInt(l.tblwidth,10),g=l.tblwidth,j.scrollLeft=x.scrollLeft,h=Math.abs(g-l.width),l.shrinkToFit&&!O&&h<3&&0<h&&(g<l.width&&S(g),x.offsetWidth>x.clientWidth&&(l.autowidth||void 0!==l.widthOrg&&"auto"!==l.widthOrg&&"100%"!==l.widthOrg||S(x.offsetWidth)))),a.fixScrollOffsetAndhBoxPadding();var N={resizeDiv:!0,resizedRows:{iRowStart:O?0:-1,iRowEnd:-1}};$(a).triggerHandler("jqGridResetFrozenHeights",[{header:N,resizeFooter:!0,body:N}])}}})},setGridHeight:function(a){return this.each(function(){var e=this,t=e.grid,r=e.p;if(t){var i=$(t.bDiv);i.css({height:a+(isNaN(a)?"":"px")}),!0===r.frozenColumns&&$(r.idSel+"_frozen").parent().height(i.height()-16),r.height=a,r.scroll&&t.populateVisible.call(e),e.fixScrollOffsetAndhBoxPadding(),$(e).triggerHandler("jqGridResetFrozenHeights")}})},setCaption:function(t){return this.each(function(){var e=this.grid.cDiv;this.p.caption=t,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",e).html(t),$(e).show(),$(e).nextAll("div").removeClass(base.getGuiStyles.call(this,"top")),$(this).triggerHandler("jqGridResetFrozenHeights")})},setLabel:function(r,a,l,o){return this.each(function(){var e,t,i=this.p;if(this.grid){if(isNaN(r)){if(void 0===(e=i.iColByName[r]))return}else e=parseInt(r,10);0<=e&&(t=$(this.grid.headers[e].el),i.frozenColumns&&(t=t.add(this.grid.fhDiv.find("#"+jqID(t)))),a&&(t.each(function(){var e=$("[id^=jqgh_]",this),t=e.children("span.ui-jqgrid-cell-wrapper");if(0<t.length)t.html(a);else{var r=$(".s-ico",this);e.empty().html(a)[i.sortIconsBeforeText?"prepend":"append"](r)}}),i.colNames[e]=a),l&&("string"==typeof l?t.addClass(l):t.css(l)),"object"==typeof o&&t.attr(o))}})},setCell:function(m,v,b,w,y,C){return this.each(function(){var e,t,r,i,a,l,o,n,s,d,c,u=this,g=u.p,p=g.colModel,h={};if(u.grid&&0<=(e=isNaN(v)?g.iColByName[v]:parseInt(v,10))&&(l=base.getGridRowById.call($(u),m))){if(o=jgrid.getCell.call(u,l,e),""!==b||!0===C){if(i=p[e],"local"===g.datatype&&(d=stripPref(g.idPrefix,m),void 0!==(c=g._index[d])&&(a=g.data[c])),null==a){for(r=0;r<l.cells.length;r++)if(r!==e&&0<(n=jgrid.getDataFieldOfCell.call(u,l,r)).length){try{s=$.unformat.call(u,n,{rowId:m,colModel:p[r]},r)}catch(e){s=htmlDecode(n[0].innerHTML)}h[p[r].name]=s}}else h=a;h[i.name]=b,t=u.formatter(m,b,e,h,"edit");var f=o;!0===g.treeGrid&&i.name===g.ExpandColumn&&(f=f.children("span.cell-wrapperleaf,span.cell-wrapper").first()),f.html(t),i.title&&o.attr({title:b}),null!=a&&(t=convertOnSaveLocally.call(u,b,i,a[i.name],d,a,e),$.isFunction(i.saveLocally)?i.saveLocally.call(u,{newValue:t,newItem:a,oldItem:a,id:d,cm:i,cmName:i.name,iCol:e}):a[i.name]=t)}(w||y)&&(o=jgrid.getCell.call(u,l,e),w&&o["string"==typeof w?"addClass":"css"](w),"object"==typeof y&&o.attr(y))}})},getCell:function(o,n){var s=!1;return this.each(function(){var e,t,r,i,a=this,l=a.p;if(a.grid&&0<=(e=isNaN(n)?l.iColByName[n]:parseInt(n,10))&&(t=base.getGridRowById.call($(a),o))){r=jgrid.getDataFieldOfCell.call(a,t,e).first(),i=l.colModel[e];try{s=base.isCellEditing.call($(a),o,e,t)?jgrid.getEditedValue.call(a,r,i,{},i.editable):$.unformat.call(a,r,{rowId:t.id,colModel:i},e)}catch(e){s=htmlDecode(r.html())}}}),s},getCol:function(u,g,p){var h,f,m,v,b=[],w=0;return g="boolean"==typeof g&&g,void 0===p&&(p=!1),this.each(function(){var e,t,r=this,i=r.p;if(r.grid&&0<=(e=isNaN(u)?i.iColByName[u]:parseInt(u,10))){var a,l,o=r.rows,n=o.length,s=0,d=0,c=i.colModel[e];if(n&&0<n){for(;s<n;){if(a=o[s],$(a).hasClass("jqgrow")){t=jgrid.getDataFieldOfCell.call(r,a,e).first(),l=a.id;try{h=base.isCellEditing.call($(r),l,e,a)?jgrid.getEditedValue.call(r,t,c,{},c.editable):$.unformat.call(r,t,{rowId:l,colModel:c},e)}catch(e){h=htmlDecode(t.html())}p?(v=parseFloat(h),isNaN(v)||(w+=v,void 0===m&&(m=f=v),f=Math.min(f,v),m=Math.max(m,v),d++)):g?b.push({id:l,value:h}):b.push(h)}s++}if(p)switch(p.toLowerCase()){case"sum":b=w;break;case"avg":b=w/d;break;case"count":b=n-1;break;case"min":b=f;break;case"max":b=m}}}}),b},clearGridData:function(a){return this.each(function(){var e=this,t=e.p,r=e.rows,i=e.grid;i&&t&&r&&("boolean"!=typeof a&&(a=!1),$(e).off(".jqGridFormatter"),i.emptyRows.call(e,!1,!0),t.footerrow&&a&&$(".ui-jqgrid-ftable td",i.sDiv).html("&#160;"),t.selrow=null,clearArray(t.selarrrow),clearArray(t.savedRow),t.editingInfo={},clearArray(t.data),clearArray(t.lastSelectedData),t._index={},t.rowIndexes={},t.dataIndexById={},t.indexByColumnData={},t.records=0,t.page=1,t.lastpage=0,t.reccount=0,e.updatepager(!0,!1))})},getInd:function(e,t){var r=base.getGridRowById.call($(this),e);return!!r&&(!0===t?r:r.rowIndex)},bindKeys:function(e){var d=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var o=this,n=o.p,s=$(o);n.scrollrows=d.scrollingRows,s.on("keydown.jqGrid",function(t){var r=$(this).find("tr[tabindex=0]")[0],e=jgrid.detectRowEditing.call(o,$(t.target).closest("tr.jqgrow").attr("id")),i=function(e){do{if(null===(r=r[e]))return}while($(r).is(":hidden")||!$(r).hasClass("jqgrow"));base.setSelection.call(s,r.id,!0),t.preventDefault()},a=function(e,t){var r=d["on"+e+(t||"")];s.triggerHandler("jqGridKey"+e,[n.selrow]),$.isFunction(r)&&r.call(o,n.selrow)},l=function(e){if(n.treeGrid){var t=n.data[n._index[stripPref(n.idPrefix,r.id)]][n.treeReader.expanded_field];"Right"===e&&(t=!t),t&&$(r).find("div.treeclick").trigger("click")}a(e,"Key")};if(r&&null===e)switch(t.keyCode){case 38:i("previousSibling");break;case 40:i("nextSibling");break;case 37:l("Left");break;case 39:l("Right");break;case 13:a("Enter");break;case 32:a("Space")}})})},unbindKeys:function(){return this.each(function(){$(this).off("keydown.jqGrid")})},getLocalRow:function(t){var r,i=!1;return this.each(function(){var e=this.p;void 0!==t&&null!=e&&null!=e._index&&null!=e.data&&0<=(r=e._index[stripPref(e.idPrefix,t)])&&(i=e.data[r])}),i},progressBar:function(i){return i=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},i||{}),this.each(function(){var e="show"===i.method,t=jqID(this.p.id),r=$("#load_"+t);switch(""!==i.htmlcontent&&r.html(i.htmlcontent),i.loadtype){case"disable":break;case"enable":r.toggle(e);break;case"block":$("#lui_"+t).toggle(e),r.toggle(e)}})},setColWidth:function(a,l,o,n){return this.each(function(){var e,t=$(this),r=this.grid,i=this.p;if("string"==typeof a){if(void 0===(a=i.iColByName[a]))return}else if("number"!=typeof a)return;null!=(e=r.headers[a])&&(e.newWidth=l,r.newWidth=i.tblwidth+l-e.width,r.resizeColumn(a,!i.frozenColumns,n),!1===o||n||(this.fixScrollOffsetAndhBoxPadding(),base.setGridWidth.call(t,r.newWidth+i.scrollOffset,!1)))})},getAutoResizableWidth:function(e){var t=this;if(0===t.length)return-1;var r,i,a,l,o,n=(t=t[0]).rows,s=t.p,d=s.colModel[e],c=$(t.grid.headers[e].el),u=c.children("div"),g=parseFloat(c.css(d.rotated?"padding-top":"padding-left")||0),p=parseFloat(c.css(d.rotated?"padding-bottom":"padding-right")||0),h=u.children("span.s-ico"),f=u.children(".ui-jqgrid-sort-order"),m=u.children("."+s.autoResizing.wrapperClassName),v=d.rotated?m.outerHeight():m.outerWidth(),b=parseFloat(m.css(d.rotated?"height":"width")||0),w=0,y=0,C=null!=d.autoResizing&&void 0!==d.autoResizable.compact?d.autoResizable.compact:s.autoResizing.compact,x=s.autoResizing.wrapperClassName;if(null==d||!d.autoResizable||0===m.length||d.hidden||jgrid.isCellClassHidden(d.classes)||d.fixed)return-1;for(C&&!h.is(":visible")&&"none"===h.css("display")||(y=d.rotated?h.outerHeight(!0):h.outerWidth(!0)+(0<f.length?f.outerWidth(!0):0),s.sortIconsBeforeText||(y-="rtl"===s.direction?parseFloat(h.css("padding-left")||0)+parseFloat(h.css("margin-left")||0):parseFloat(h.css("padding-right")||0)+parseFloat(h.css("margin-right")||0))),d.rotated?y=Math.max(y,v+g+p):y+=v+g+(b===v?g+p:0)+parseFloat(u.css("margin-left")||0)+parseFloat(u.css("margin-right")||0),a=0,n=t.rows;a<n.length;a++)i=(r=n[a]).cells[e],l=$(r.cells[e]),null!=i&&($(r).hasClass("jqgrow")&&"none"!==r.style.display&&"none"!==i.style.display||$(r).hasClass("jqgroup")&&1===i.colSpan)?(o=$(i.firstChild)).hasClass(x)?y=Math.max(y,o.outerWidth()+w):s.treeGrid&&s.ExpandColumn===d.name&&(o=l.children(".cell-wrapper,.cell-wrapperleaf"),y=Math.max(y,o.outerWidth()+w+l.children(".tree-wrap").outerWidth())):$(r).hasClass("jqgfirstrow")&&(w=(jgrid.cell_width?parseFloat(l.css("padding-left")||0)+parseFloat(l.css("padding-right")||0):0)+parseFloat(l.css("border-right")||0)+parseFloat(l.css("border-left")||0));return y=Math.max(y,null!=d.autoResizing&&void 0!==d.autoResizing.minColWidth?d.autoResizing.minColWidth:s.autoResizing.minColWidth),Math.min(y,null!=d.autoResizing&&void 0!==d.autoResizing.maxColWidth?d.autoResizing.maxColWidth:s.autoResizing.maxColWidth)},autoResizeColumn:function(n,s){return this.each(function(){var e,t=$(this),r=this.p,i=r.colModel[n],a=$(this.grid.headers[n].el),l=base.getAutoResizableWidth.call(t,n),o=(i.autoResizing||{}).resetWidthOrg;null==i||l<0||l===i.width||(base.setColWidth.call(t,n,l,r.autoResizing.adjustGridWidth&&!r.autoResizing.fixWidthOnShrink&&!s,s),r.autoResizing.fixWidthOnShrink&&r.shrinkToFit&&!s&&(i.fixed=!0,e=i.widthOrg,i.widthOrg=i.width,base.setGridWidth.call(t,r.width,!0),i.widthOrg=e,i.fixed=!1),(o||void 0===o&&r.autoResizing.resetWidthOrg)&&(i.widthOrg=i.width),a.data("autoResized","true"))})},autoResizeAllColumns:function(){return this.each(function(){var e,t,r=$(this),i=this.p,a=i.colModel,l=a.length,o=i.shrinkToFit,n=i.autoResizing.adjustGridWidth,s=i.autoResizing.fixWidthOnShrink,d=parseInt(i.widthOrg,10),c=this.grid,u=base.autoResizeColumn;for(i.shrinkToFit=!1,i.autoResizing.adjustGridWidth=!0,i.autoResizing.fixWidthOnShrink=!1,e=0;e<l;e++)(t=a[e]).autoResizable&&"actions"!==t.formatter&&u.call(r,e,!0);c.hDiv.scrollLeft=c.bDiv.scrollLeft,i.footerrow&&(c.sDiv.scrollLeft=c.bDiv.scrollLeft),this.fixScrollOffsetAndhBoxPadding(),isNaN(d)?n&&base.setGridWidth.call(r,c.newWidth+i.scrollOffset,!1):base.setGridWidth.call(r,d,!1),i.autoResizing.fixWidthOnShrink=s,i.autoResizing.adjustGridWidth=n,i.shrinkToFit=o})}})});
//# sourceMappingURL=grid.base.js.map